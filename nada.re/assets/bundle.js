!function(t){function i(r){if(n[r])return n[r].exports;var e=n[r]={i:r,l:!1,exports:{}};return t[r].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n={};i.m=t,i.c=n,i.i=function(t){return t},i.d=function(t,n,r){i.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},i.p="/in-memory",i(i.s=49)}([function(t,i,n){"use strict";var r=["Out_of_memory",0],e=["Sys_error",-1],a=["Failure",-2],o=["Invalid_argument",-3],s=["End_of_file",-4],u=["Division_by_zero",-5],c=["Not_found",-6],f=["Match_failure",-7],l=["Stack_overflow",-8],h=["Sys_blocked_io",-9],_=["Assert_failure",-10],m=["Undefined_recursive_module",-11];r.tag=248,e.tag=248,a.tag=248,o.tag=248,s.tag=248,u.tag=248,c.tag=248,f.tag=248,l.tag=248,h.tag=248,_.tag=248,m.tag=248,i.out_of_memory=r,i.sys_error=e,i.failure=a,i.invalid_argument=o,i.end_of_file=s,i.division_by_zero=u,i.not_found=c,i.match_failure=f,i.stack_overflow=l,i.sys_blocked_io=h,i.assert_failure=_,i.undefined_recursive_module=m},function(t,i,n){"use strict";var r,e,a=n(45);r=function(t,i,n){this.initialize(t,i,n)},e=r.prototype,e.imageData=null,e.canvas=null,e.context=null,e.initialize=function(t,i,n){if(void 0===t||void 0===i)throw new Error("BitmapData width or height is missing");return this.canvas=n?a.getDefaultCanvas():a.getNewCanvas(),this.canvas.setAttribute("width",t),this.canvas.setAttribute("height",i),this.context=this.canvas.getContext("2d"),this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.mozImageSmoothingEnabled=!1,this.context.msImageSmoothingEnabled=!1,this.context.imageSmoothingEnabled=!1,this.imageData=this.context.createImageData(t,i),this},e.setPixel=function(t,i,n){var r=4*(i*this.imageData.width+t);this.setPixelByIndex(r,n)},e.setPixelByIndex=function(t,i){var n=this.imageData.data;n[t]=i>>>16&255,n[t+1]=i>>>8&255,n[t+2]=i>>>0&255,n[t+3]=i>>>24&255},e.checkPixelAvailable=function(t,i){var n=4*(i*this.imageData.width+t);return 0===this.imageData.data[n+3]},e.floodFill=function(t,i,n){if(0!=(n>>>24&255)){var r,e,a,o,s,u,c=t,f=i,l=[],h=[],_=[],m=this.imageData.width,d=this.imageData.height;if(!(c<0||f<0||c>=m||f>=d)){if(!this.checkPixelAvailable(c,f))throw new Error("Start point for flood fill is already filled");for(r=c;r>=0;r-=1){for(e=f;e>=0;e-=1){if(!this.checkPixelAvailable(r,e)){if(e===f&&this.checkPixelAvailable(r+1,e-1))for(o=this.checkPixelAvailable(r,e-1)?e-1:this.checkPixelAvailable(r+1,e-2)?e-2:-1,e=o;e>=0&&this.checkPixelAvailable(r,e);e-=1)l.push(4*(e*m+r)),h.push(e);break}l.push(4*(e*m+r)),h.push(e)}for(e=f;e<d;e+=1){if(!this.checkPixelAvailable(r,e)){if(e===f&&this.checkPixelAvailable(r+1,e+1))for(o=this.checkPixelAvailable(r,e+1)?e+1:this.checkPixelAvailable(r+1,e+2)?e+2:d,e=o;e<d&&this.checkPixelAvailable(r,e);e+=1)l.push(4*(e*m+r)),h.push(e);break}l.push(4*(e*m+r)),h.push(e)}for(r===c&&(_=h.concat()),a=!1,s=0;s<_.length;s+=1){for(u=0;u<_.length;u+=1)if(h[u]===_[s]){a=!0,f=_[s];break}if(a)break}if(!a)break;_=h.concat(),h=[]}for(c=t,f=i,_=[],h=[],r=c;r<m;r+=1){for(e=f;e>=0;e-=1){if(!this.checkPixelAvailable(r,e)){if(e===f&&this.checkPixelAvailable(r-1,e-1))for(o=this.checkPixelAvailable(r,e-1)?e-1:this.checkPixelAvailable(r-1,e-2)?e-2:-1,e=o;e>=0&&this.checkPixelAvailable(r,e);e-=1)l.push(4*(e*m+r)),h.push(e);break}l.push(4*(e*m+r)),h.push(e)}for(e=f;e<d;e+=1){if(!this.checkPixelAvailable(r,e)){if(e===f&&this.checkPixelAvailable(r-1,e+1))for(o=this.checkPixelAvailable(r,e+1)?e+1:this.checkPixelAvailable(r-1,e+2)?e+2:d,e=o;e<d&&this.checkPixelAvailable(r,e);e+=1)l.push(4*(e*m+r)),h.push(e);break}l.push(4*(e*m+r)),h.push(e)}for(r===c&&(_=h.concat()),a=!1,s=0;s<_.length;s+=1){for(u=0;u<_.length;u+=1)if(h[u]===_[s]){a=!0,f=_[s];break}if(a)break}if(!a)break;_=h.concat(),h=[]}for(s=0;s<l.length;s+=1)this.setPixelByIndex(l[s],n)}}},e.toString=function(){return"[BitmapData]"},t.exports=r},function(t,i,n){"use strict";var r,e;r=function(t,i,n,r,e,a){this.initialize(t,i,n,r,e,a)},e=r.prototype,e.a=1,e.b=0,e.c=0,e.d=1,e.tx=0,e.ty=0,e.initialize=function(t,i,n,r,e,a){return this.a=void 0===t?1:t,this.b=i||0,this.c=n||0,this.d=void 0===r?1:r,this.tx=e||0,this.ty=a||0,this},e.toString=function(){return"[Matrix]"},t.exports=r},function(t,i,n){"use strict";var r,e;r=function(){this.initialize()},e=r.prototype,e.canvas=null,e.w=null,e.h=null,e.dimension=null,e.color=null,e.border=null,e.bitmapData=null,e.useDefaultCanvas=null,e.matrix=null,e.initialize=function(){return this},e.toString=function(){return"[AbstractPrimitive]"},t.exports=r},function(t,i,n){"use strict";var r,e;r=function(){this.initialize()},e=r.prototype,e.xAxis=null,e.yAxis=null,e.zAxis=null,e.tall=!1,e.initialize=function(){return this},e.toString=function(){return"[AbstractDimension]"},t.exports=r},function(t,i,n){"use strict";function r(t,i){for(;;){var n=i,e=t,a=e.length,o=a||1,s=n.length,u=o-s|0;if(u){if(u<0){i=k.caml_array_sub(n,o,0|-u),t=e.apply(null,k.caml_array_sub(n,0,o));continue}return function(t,i){return function(n){return r(t,i.concat([n]))}}(e,n)}return e.apply(null,n)}}function e(t,i,n){if(n>7||n<0)return r(t,[i]);switch(n){case 0:case 1:return t(i);case 2:return function(n){return t(i,n)};case 3:return function(n,r){return t(i,n,r)};case 4:return function(n,r,e){return t(i,n,r,e)};case 5:return function(n,r,e,a){return t(i,n,r,e,a)};case 6:return function(n,r,e,a,o){return t(i,n,r,e,a,o)};case 7:return function(n,r,e,a,o,s){return t(i,n,r,e,a,o,s)}}}function a(t,i){var n=t.length;return 1===n?t(i):e(t,i,n)}function o(t){return 1===t.length?t:function(i){return a(t,i)}}function s(t,i,n,e){if(e>7||e<0)return r(t,[i,n]);switch(e){case 0:case 1:return r(t(i),[n]);case 2:return t(i,n);case 3:return function(r){return t(i,n,r)};case 4:return function(r,e){return t(i,n,r,e)};case 5:return function(r,e,a){return t(i,n,r,e,a)};case 6:return function(r,e,a,o){return t(i,n,r,e,a,o)};case 7:return function(r,e,a,o,s){return t(i,n,r,e,a,o,s)}}}function u(t,i,n){var r=t.length;return 2===r?t(i,n):s(t,i,n,r)}function c(t){return 2===t.length?t:function(i,n){return u(t,i,n)}}function f(t,i,n,e,a){var o=0;if(a>7||a<0)return r(t,[i,n,e]);switch(a){case 0:case 1:o=1;break;case 2:return r(t(i,n),[e]);case 3:return t(i,n,e);case 4:return function(r){return t(i,n,e,r)};case 5:return function(r,a){return t(i,n,e,r,a)};case 6:return function(r,a,o){return t(i,n,e,r,a,o)};case 7:return function(r,a,o,s){return t(i,n,e,r,a,o,s)}}return 1===o?r(t(i),[n,e]):void 0}function l(t,i,n,r){var e=t.length;return 3===e?t(i,n,r):f(t,i,n,r,e)}function h(t){return 3===t.length?t:function(i,n,r){return l(t,i,n,r)}}function _(t,i,n,e,a,o){var s=0;if(o>7||o<0)return r(t,[i,n,e,a]);switch(o){case 0:case 1:s=1;break;case 2:return r(t(i,n),[e,a]);case 3:return r(t(i,n,e),[a]);case 4:return t(i,n,e,a);case 5:return function(r){return t(i,n,e,a,r)};case 6:return function(r,o){return t(i,n,e,a,r,o)};case 7:return function(r,o,s){return t(i,n,e,a,r,o,s)}}return 1===s?r(t(i),[n,e,a]):void 0}function m(t,i,n,r,e){var a=t.length;return 4===a?t(i,n,r,e):_(t,i,n,r,e,a)}function d(t){return 4===t.length?t:function(i,n,r,e){return m(t,i,n,r,e)}}function v(t,i,n,e,a,o,s){var u=0;if(s>7||s<0)return r(t,[i,n,e,a,o]);switch(s){case 0:case 1:u=1;break;case 2:return r(t(i,n),[e,a,o]);case 3:return r(t(i,n,e),[a,o]);case 4:return r(t(i,n,e,a),[o]);case 5:return t(i,n,e,a,o);case 6:return function(r){return t(i,n,e,a,o,r)};case 7:return function(r,s){return t(i,n,e,a,o,r,s)}}return 1===u?r(t(i),[n,e,a,o]):void 0}function g(t,i,n,r,e,a){var o=t.length;return 5===o?t(i,n,r,e,a):v(t,i,n,r,e,a,o)}function p(t){return 5===t.length?t:function(i,n,r,e,a){return g(t,i,n,r,e,a)}}function x(t,i,n,e,a,o,s,u){var c=0;if(u>7||u<0)return r(t,[i,n,e,a,o,s]);switch(u){case 0:case 1:c=1;break;case 2:return r(t(i,n),[e,a,o,s]);case 3:return r(t(i,n,e),[a,o,s]);case 4:return r(t(i,n,e,a),[o,s]);case 5:return r(t(i,n,e,a,o),[s]);case 6:return t(i,n,e,a,o,s);case 7:return function(r){return t(i,n,e,a,o,s,r)}}return 1===c?r(t(i),[n,e,a,o,s]):void 0}function b(t,i,n,r,e,a,o){var s=t.length;return 6===s?t(i,n,r,e,a,o):x(t,i,n,r,e,a,o,s)}function y(t){return 6===t.length?t:function(i,n,r,e,a,o){return b(t,i,n,r,e,a,o)}}function w(t,i,n,e,a,o,s,u,c){var f=0;if(c>7||c<0)return r(t,[i,n,e,a,o,s,u]);switch(c){case 0:case 1:f=1;break;case 2:return r(t(i,n),[e,a,o,s,u]);case 3:return r(t(i,n,e),[a,o,s,u]);case 4:return r(t(i,n,e,a),[o,s,u]);case 5:return r(t(i,n,e,a,o),[s,u]);case 6:return r(t(i,n,e,a,o,s),[u]);case 7:return t(i,n,e,a,o,s,u)}return 1===f?r(t(i),[n,e,a,o,s,u]):void 0}function A(t,i,n,r,e,a,o,s){var u=t.length;return 7===u?t(i,n,r,e,a,o,s):w(t,i,n,r,e,a,o,s,u)}function D(t){return 7===t.length?t:function(i,n,r,e,a,o,s){return A(t,i,n,r,e,a,o,s)}}function C(t,i,n,e,a,o,s,u,c,f){var l=0;if(f>7||f<0)return r(t,[i,n,e,a,o,s,u,c]);switch(f){case 0:case 1:l=1;break;case 2:return r(t(i,n),[e,a,o,s,u,c]);case 3:return r(t(i,n,e),[a,o,s,u,c]);case 4:return r(t(i,n,e,a),[o,s,u,c]);case 5:return r(t(i,n,e,a,o),[s,u,c]);case 6:return r(t(i,n,e,a,o,s),[u,c]);case 7:return r(t(i,n,e,a,o,s,u),[c])}return 1===l?r(t(i),[n,e,a,o,s,u,c]):void 0}function S(t,i,n,r,e,a,o,s,u){var c=t.length;return 8===c?t(i,n,r,e,a,o,s,u):C(t,i,n,r,e,a,o,s,u,c)}function z(t){return 8===t.length?t:function(i,n,r,e,a,o,s,u){return S(t,i,n,r,e,a,o,s,u)}}var k=n(22);i.app=r,i.curry_1=e,i._1=a,i.__1=o,i.curry_2=s,i._2=u,i.__2=c,i.curry_3=f,i._3=l,i.__3=h,i.curry_4=_,i._4=m,i.__4=d,i.curry_5=v,i._5=g,i.__5=p,i.curry_6=x,i._6=b,i.__6=y,i.curry_7=w,i._7=A,i.__7=D,i.curry_8=C,i._8=S,i.__8=z},function(t,i,n){"use strict";var r,e,a=n(11),o=n(9);r=function(t,i){this.initialize(t,i)},e=r.prototype=new a,e.BRIGHTNESS_GAIN=-20,e.initialize=function(t,i){return this.border=o.get32(void 0===t?8882055:t),this.inner=o.get32(void 0===i?15658734:i),this},e.getByInnerColor=function(t){return new r(o.applyBrightness(t,4*this.BRIGHTNESS_GAIN),t)},e.toString=function(){return"[SideColor]"},t.exports=r},function(t,i,n){"use strict";function r(t){for(var i=t.length,n=new Array(i),r=0,e=i-1|0;r<=e;++r)n[r]=t[r];return n.tag=0|t.tag,n}function e(t,i){var n=t.length;if(i<=0||i>n)throw[v.invalid_argument,"Obj.truncate"];if(n!==i){for(var r=i,e=n-1|0;r<=e;++r)t[r]=0;return t.length=i,0}return 0}function a(t){return d.__(250,[t])}function o(t,i){for(var n=i.length,r=0,e=n-1|0;r<=e;++r)t[r]=i[r];var a=0|i.tag;return 0!==a?(t.tag=a,0):0}function s(t,i){return t<i?-1:t===i?0:1}function u(t,i){for(;;){var n=i,r=t,e=typeof r,a=typeof n;if("string"===e){var o=r,c=n;return o<c?-1:o===c?0:1}var f=+("number"===e),l=+("number"===a);if(0!==f)return 0!==l?s(r,n):-1;if(0!==l)return 1;if("boolean"===e||"null"===e||"undefined"===e){var h=r,_=n;return h===_?0:h<_?-1:1}if("function"===e||"function"===a)throw[v.invalid_argument,"compare: functional value"];var m=0|r.tag,d=0|n.tag;if(250!==m)if(250!==d){if(248===m)return s(r[1],n[1]);if(251===m)throw[v.invalid_argument,"equal: abstract value"];if(m!==d)return m<d?-1:1;var g=r.length,p=n.length;if(g===p)for(var x=r,b=n,y=0,w=g;;){var A=y;if(A===w)return 0;var D=u(x[A],b[A]);if(0!==D)return D;y=A+1|0}else if(g<p)for(var C=r,S=n,z=0,k=g;;){var P=z;if(P===k)return-1;var B=u(C[P],S[P]);if(0!==B)return B;z=P+1|0}else for(var E=r,R=n,I=0,M=p;;){var L=I;if(L===M)return 1;var N=u(E[L],R[L]);if(0!==N)return N;I=L+1|0}}else i=n[0];else t=r[0]}}function c(t,i){for(;;){var n=i,r=t;if(r===n)return 1;var e=typeof r;if("string"===e||"number"===e||"boolean"===e||"undefined"===e||"null"===e)return 0;var a=typeof n;if("function"===e||"function"===a)throw[v.invalid_argument,"equal: functional value"];if("number"===a||"null"===a||"undefined"===a)return 0;var o=0|r.tag,s=0|n.tag;if(250!==o)if(250!==s){if(248===o)return+(r[1]===n[1]);if(251===o)throw[v.invalid_argument,"equal: abstract value"];if(o!==s)return 0;var u=r.length,f=n.length;if(u!==f)return 0;for(var l=r,h=n,_=0,m=u;;){var d=_;if(d===m)return 1;{if(!c(l[d],h[d]))return 0;_=d+1|0}}}else i=n[0];else t=r[0]}}function f(t,i){return 1-c(t,i)}function l(t,i){return+(u(t,i)>=0)}function h(t,i){return+(u(t,i)>0)}function _(t,i){return+(u(t,i)<=0)}function m(t,i){return+(u(t,i)<0)}var d=n(32),v=n(0),g=s,p=s;i.caml_obj_dup=r,i.caml_obj_truncate=e,i.caml_lazy_make_forward=a,i.caml_update_dummy=o,i.caml_int_compare=s,i.caml_int32_compare=g,i.caml_nativeint_compare=p,i.caml_compare=u,i.caml_equal=c,i.caml_notequal=f,i.caml_greaterequal=l,i.caml_greaterthan=h,i.caml_lessthan=m,i.caml_lessequal=_},function(t,i,n){"use strict";function r(t){return String.fromCharCode(t)}function e(t,i){if(i>=t.length||i<0)throw[g.invalid_argument,"index out of bounds"];return t.charCodeAt(i)}function a(t){if(t<0)throw[g.invalid_argument,"String.create"];return new Array(t)}function o(t,i){return t===i?0:t<i?-1:1}function s(t,i,n,r){if(n>0){for(var e=i,a=(n+i|0)-1|0;e<=a;++e)t[e]=r;return 0}return 0}function u(t,i,n,r,e){if(e>0){var a=t.length-i|0;if(e<=a){for(var o=0,s=e-1|0;o<=s;++o)n[r+o|0]=t.charCodeAt(i+o|0);return 0}for(var u=0,c=a-1|0;u<=c;++u)n[r+u|0]=t.charCodeAt(i+u|0);for(var f=a,l=e-1|0;f<=l;++f)n[r+f|0]=0;return 0}return 0}function c(t,i,n,r,e){if(e>0){if(t===n){var a=t,o=i,s=r,u=e;if(o<s){for(var c=(a.length-s|0)-1|0,f=u-1|0,l=c>f?f:c,h=l;h>=0;--h)a[s+h|0]=a[o+h|0];return 0}if(o>s){for(var _=(a.length-o|0)-1|0,m=u-1|0,d=_>m?m:_,v=0;v<=d;++v)a[s+v|0]=a[o+v|0];return 0}return 0}var g=t.length-i|0;if(e<=g){for(var p=0,x=e-1|0;p<=x;++p)n[r+p|0]=t[i+p|0];return 0}for(var b=0,y=g-1|0;b<=y;++b)n[r+b|0]=t[i+b|0];for(var w=g,A=e-1|0;w<=A;++w)n[r+w|0]=0;return 0}return 0}function f(t){for(var i=t.length,n=new Array(i),r=0,e=i-1|0;r<=e;++r)n[r]=t.charCodeAt(r);return n}function l(t){var i=t,n=t.length,r="",e=n;if(n<=4096&&n===i.length)return String.fromCharCode.apply(null,i);for(var a=0;e>0;){var o=e<1024?e:1024,s=new Array(o);c(i,a,s,0,o),r+=String.fromCharCode.apply(null,s),e=e-o|0,a=a+o|0}return r}function h(t){for(var i=t.length,n=new Array(i),r=0,e=i-1|0;r<=e;++r)n[r]=t[r];return l(n)}function _(t){return t>31?+(t<127):0}function m(t,i){return t.charCodeAt(i)+(t.charCodeAt(i+1|0)<<8)|0}function d(t,i){return((t.charCodeAt(i)+(t.charCodeAt(i+1|0)<<8)|0)+(t.charCodeAt(i+2|0)<<16)|0)+(t.charCodeAt(i+3|0)<<24)|0}function v(t,i){if(i<0||i>=t.length)throw[g.invalid_argument,"index out of bounds"];return t.charCodeAt(i)}var g=n(0);i.bytes_of_string=f,i.bytes_to_string=l,i.caml_is_printable=_,i.caml_string_of_char_array=h,i.caml_string_get=e,i.caml_string_compare=o,i.caml_create_string=a,i.caml_fill_string=s,i.caml_blit_string=u,i.caml_blit_bytes=c,i.caml_string_get16=m,i.caml_string_get32=d,i.string_of_char=r,i.get=v},function(t,i,n){"use strict";var r,e;r=function(){throw new Error("ColorGeom is a static Class, cannot be instanced.")},e=r,e.get32=function(t){return t<4278190080?t+4278190080:t},e.applyBrightness=function(t,i,n){var r,e,a,o,s,u,c;return r=t>>>24&255,e=t>>>16&255,a=t>>>8&255,o=255&t,s=(313524*e>>20)+(615514*a>>20)+(119538*o>>20),c=-(155189*e>>20)-(303038*a>>20)+(458227*o>>20),u=(644874*e>>20)-(540016*a>>20)-(104857*o>>20),n?s=60+Math.pow(s,1.2):s+=i,e=s+(1195376*u>>20),a=s-(408944*c>>20)-(608174*u>>20),o=s+(2128609*c>>20),e=Math.max(0,Math.min(e,255)),a=Math.max(0,Math.min(a,255)),o=Math.max(0,Math.min(o,255)),r<<24|e<<16|a<<8|o},e.toString=function(){return"[ColorGeom]"},t.exports=r},function(t,i,n){"use strict";function r(t,i){if(0===i)throw s.division_by_zero;return t/i|0}function e(t,i){if(0===i)throw s.division_by_zero;return t%i}function a(t){return(255&t)<<8|(65280&t)>>>8}function o(t){return(255&t)<<24|(65280&t)<<8|(16711680&t)>>>8|(4278190080&t)>>>24}var s=n(0),u=Math.imul||function(t,i){return i|=0,((t>>16)*i<<16)+(65535&t)*i|0},c=o;i.div=r,i.mod_=e,i.caml_bswap16=a,i.caml_int32_bswap=o,i.caml_nativeint_bswap=c,i.imul=u},function(t,i,n){"use strict";var r,e;r=function(){this.initialize()},e=r.prototype,e.inner=null,e.border=null,e.borderHighlight=null,e.left=null,e.right=null,e.horizontal=null,e.leftSlope=null,e.rightSlope=null,e.initialize=function(){return this},e.toString=function(){return"[AbstractColor]"},t.exports=r},function(t,i,n){"use strict";var r,e,a=n(11),o=n(9);r=function(t,i,n,r,e,a){this.initialize(t,i,n,r,e,a)},e=r.prototype=new a,e.BRIGHTNESS_GAIN=-20,e.initialize=function(t,i,n,r,e,a){return this.border=o.get32(void 0===t?9737880:t),this.borderHighlight=o.get32(void 0===i?16777215:i),this.left=o.get32(void 0===n?13225936:n),this.right=o.get32(void 0===r?15132905:r),this.leftSlope=o.get32(void 0===e?14408667:e),this.rightSlope=o.get32(void 0===a?14408667:a),this},e.getByHorizontalColor=function(t){return new r(o.applyBrightness(t,4*this.BRIGHTNESS_GAIN),o.applyBrightness(t,0,!0),o.applyBrightness(t,2*this.BRIGHTNESS_GAIN),o.applyBrightness(t,this.BRIGHTNESS_GAIN),o.applyBrightness(t,1.5*this.BRIGHTNESS_GAIN),o.applyBrightness(t,.5*this.BRIGHTNESS_GAIN))},e.toString=function(){return"[SlopeColor]"},t.exports=r},function(t,i,n){"use strict";var r,e,a=n(4);r=function(t,i){this.initialize(t,i)},e=r.prototype=new a,e.initialize=function(t,i){if(this.xAxis=t||30,this.yAxis=i||30,this.xAxis%2==1||this.yAxis%2==1)throw new Error("xAxis and yAxis must be even number");if(this.xAxis<=4||this.yAxis<=4)throw new Error("dimension is too small");return this},e.toString=function(){return"[SlopeDimension]"},t.exports=r},function(t,i,n){"use strict";var r,e,a=n(43);r=function(t,i){this.initialize(t,i)},e=r.prototype,e.x=null,e.y=null,e.canvas=null,e.initialize=function(t,i){if(!t)throw new Error("Primitive is not defined");var n=i||new a;return this.canvas=t.canvas,this.x=t.matrix.tx+n.x-n.y,this.y=t.matrix.ty+Math.floor(n.x/2+n.y/2)-n.z,this},e.toString=function(){return"[PixelObject]"},t.exports=r},function(t,i,n){"use strict";function r(t){return t[1]=s[0],s[0]+=1,t}function e(){return s[0]+=1,s[0]}function a(t){var i=e(0),n=[t,i];return n.tag=248,n}function o(t){if(void 0===t)return 0;if(248===t.tag)return 1;var i=t[0];return void 0!==i?+(248===i.tag):0}var s=[0];i.caml_set_oo_id=r,i.get_id=e,i.create=a,i.isCamlExceptionOrOpenVariant=o},function(t,i,n){"use strict";function r(t){throw[y.failure,t]}function e(t){return t>=65?t>=97?t>=123?-1:t-87|0:t>=91?-1:t-55|0:t>57||t<48?-1:t-48|0}function a(t){switch(t){case 0:return 8;case 1:return 16;case 2:return 10;case 3:return 2}}function o(t){var i=1,n=2,r=0;"-"===t[r]&&(i=-1,r=r+1|0);var e=t.charCodeAt(r),a=t.charCodeAt(r+1|0);return 48===e&&(a>=89?98!==a?111!==a?120===a&&(n=1,r=r+2|0):(n=0,r=r+2|0):(n=3,r=r+2|0):66!==a?79!==a?a>=88&&(n=1,r=r+2|0):(n=0,r=r+2|0):(n=3,r=r+2|0)),[r,i,n]}function s(t){var i=o(t),n=i[0],r=a(i[2]),s=t.length,u=n<s?t.charCodeAt(n):0,c=e(u);if(c<0||c>=r)throw[y.failure,"int_of_string"];var f=i[1]*function(i,n){for(;;){var a=n,o=i;if(a===s)return o;var u=t.charCodeAt(a);if(95!==u){var c=e(u);if(c<0||c>=r)throw[y.failure,"int_of_string"];var f=r*o+c;if(f>4294967295)throw[y.failure,"int_of_string"];n=a+1|0,i=f}else n=a+1|0}}(c,n+1|0),l=0|f;if(10===r&&f!==l)throw[y.failure,"int_of_string"];return l}function u(t){var i,n=o(t),r=n[2],s=n[0],u=x.of_int32(a(r)),c=x.of_int32(n[1]);switch(r){case 0:i=[536870911,4294967295];break;case 1:i=[268435455,4294967295];break;case 2:i=[429496729,2576980377];break;case 3:i=[2147483647,4294967295]}var f=t.length,l=s<f?t.charCodeAt(s):0,h=x.of_int32(e(l));if(x.lt(h,[0,0])||x.ge(h,u))throw[y.failure,"int64_of_string"];var _=x.mul(c,function(n,r){for(;;){var a=r,o=n;if(a===f)return o;var s=t.charCodeAt(a);if(95!==s){var c=x.of_int32(e(s));if(x.lt(c,[0,0])||x.ge(c,u)||x.gt(o,i))throw[y.failure,"int64_of_string"];var l=x.add(x.mul(u,o),c);r=a+1|0,n=l}else r=a+1|0}}(h,s+1|0)),m=x.or_(_,[0,0]);if(x.eq(u,[0,10])&&x.neq(_,m))throw[y.failure,"int64_of_string"];return m}function c(t){switch(t){case 0:return 8;case 1:return 16;case 2:return 10}}function f(t){return t>=65&&t<=90||t>=192&&t<=214||t>=216&&t<=222?t+32|0:t}function l(t){var i=t.length;if(i>31)throw[y.invalid_argument,"format_int: format too long"];for(var n=["+","-"," ",0,2,0,0,0,1,-1,"f"],r=0;;){var e=r;if(e>=i)return n;var a=t.charCodeAt(e),o=0;if(a>=69)if(a>=88)if(a>=121)o=1;else switch(a-88|0){case 0:n[4]=1,n[7]=1,r=e+1|0;continue;case 13:case 14:case 15:o=5;break;case 12:case 17:o=4;break;case 23:n[4]=0,r=e+1|0;continue;case 29:n[4]=2,r=e+1|0;continue;case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 16:case 18:case 19:case 20:case 21:case 22:case 24:case 25:case 26:case 27:case 28:case 30:case 31:o=1;break;case 32:n[4]=1,r=e+1|0;continue}else{if(!(a>=72)){n[5]=1,n[7]=1,n[10]=String.fromCharCode(f(a)),r=e+1|0;continue}o=1}else{var s=a-32|0;if(s>25||s<0)o=1;else switch(s){case 3:n[3]=1,r=e+1|0;continue;case 0:case 11:o=2;break;case 13:n[0]="-",r=e+1|0;continue;case 14:n[9]=0;for(var u=e+1|0;function(i){return function(){var n=t.charCodeAt(i)-48|0;return+(n>=0&&n<=9)}}(u)();)n[9]=(p.imul(n[9],10)+t.charCodeAt(u)|0)-48|0,u=u+1|0;r=u;continue;case 1:case 2:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 12:case 15:o=1;break;case 16:n[2]="0",r=e+1|0;continue;case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:o=3}}switch(o){case 1:r=e+1|0;continue;case 2:n[1]=String.fromCharCode(a),r=e+1|0;continue;case 3:n[6]=0;for(var c=e;function(i){return function(){var n=t.charCodeAt(i)-48|0;return+(n>=0&&n<=9)}}(c)();)n[6]=(p.imul(n[6],10)+t.charCodeAt(c)|0)-48|0,c=c+1|0;r=c;continue;case 4:n[5]=1,n[4]=2,r=e+1|0;continue;case 5:n[5]=1,n[10]=String.fromCharCode(a),r=e+1|0;continue}}}function h(t,i){var n=t[0],r=t[1],e=t[2],a=t[3],o=t[4],s=t[5],u=t[6],c=t[7],f=t[8],l=i.length;s&&(f<0||"-"!==r)&&(l=l+1|0),a&&(o?1===o&&(l=l+2|0):l=l+1|0);var h="";if("+"===n&&" "===e)for(var _=l,m=u-1|0;_<=m;++_)h+=e;if(s&&(f<0?h+="-":"-"!==r&&(h+=r)),a&&0===o&&(h+="0"),a&&1===o&&(h+="0x"),"+"===n&&"0"===e)for(var d=l,v=u-1|0;d<=v;++d)h+=e;if(h=c?h+i.toUpperCase():h+i,"-"===n)for(var g=l,p=u-1|0;g<=p;++g)h+=" ";return h}function _(t,i){if("%d"===t)return String(i);var n=l(t),r=n,e=i,a=e<0?r[5]?(r[8]=-1,-e):e>>>0:e,o=a.toString(c(r[4]));if(r[9]>=0){r[2]=" ";var s=r[9]-o.length|0;s>0&&(o=b.repeat(s,"0")+o)}return h(r,o)}function m(t,i){var n=l(t),r=n[5]&&x.lt(i,[0,0])?(n[8]=-1,x.neg(i)):i,e="";switch(n[4]){case 0:var a=[0,8],o="01234567";if(x.lt(r,[0,0])){var s=x.discard_sign(r),u=x.div_mod(s,a),c=x.add([268435456,0],u[0]),f=u[1];for(e=String.fromCharCode(o.charCodeAt(0|f[1]))+e;x.neq(c,[0,0]);){var _=x.div_mod(c,a);c=_[0],f=_[1],e=String.fromCharCode(o.charCodeAt(0|f[1]))+e}}else{var m=x.div_mod(r,a),d=m[0],v=m[1];for(e=String.fromCharCode(o.charCodeAt(0|v[1]))+e;x.neq(d,[0,0]);){var g=x.div_mod(d,a);d=g[0],v=g[1],e=String.fromCharCode(o.charCodeAt(0|v[1]))+e}}break;case 1:e=x.to_hex(r)+e;break;case 2:var p=[0,10],y="0123456789";if(x.lt(r,[0,0])){var w=x.discard_sign(r),A=x.div_mod(w,p),D=x.div_mod(x.add([0,8],A[1]),p),C=x.add(x.add([214748364,3435973836],A[0]),D[0]),S=D[1];for(e=String.fromCharCode(y.charCodeAt(0|S[1]))+e;x.neq(C,[0,0]);){var z=x.div_mod(C,p);C=z[0],S=z[1],e=String.fromCharCode(y.charCodeAt(0|S[1]))+e}}else{var k=x.div_mod(r,p),P=k[0],B=k[1];for(e=String.fromCharCode(y.charCodeAt(0|B[1]))+e;x.neq(P,[0,0]);){var E=x.div_mod(P,p);P=E[0],B=E[1],e=String.fromCharCode(y.charCodeAt(0|B[1]))+e}}}if(n[9]>=0){n[2]=" ";var R=n[9]-e.length|0;R>0&&(e=b.repeat(R,"0")+e)}return h(n,e)}function d(t,i){var n=l(t),r=n[9]<0?6:n[9],e=i<0?(n[8]=-1,-i):i,a="";if(isNaN(e))a="nan",n[2]=" ";else if(isFinite(e)){var o=n[10];switch(o){case"e":a=e.toExponential(r);var s=a.length;"e"===a[s-3|0]&&(a=a.slice(0,s-1|0)+"0"+a.slice(s-1|0));break;case"f":a=e.toFixed(r);break;case"g":var u=0!==r?r:1;a=e.toExponential(u-1|0);var c=a.indexOf("e"),f=0|Number(a.slice(c+1|0));if(f<-4||e>=1e21||e.toFixed().length>u){for(var _=c-1|0;"0"===a[_];)_=_-1|0;"."===a[_]&&(_=_-1|0),a=a.slice(0,_+1|0)+a.slice(c);var m=a.length;"e"===a[m-3|0]&&(a=a.slice(0,m-1|0)+"0"+a.slice(m-1|0))}else{var d=u;if(f<0)d=d-(f+1|0)|0,a=e.toFixed(d);else for(;function(){return a=e.toFixed(d),+(a.length>(u+1|0))}();)d=d-1|0;if(0!==d){for(var v=a.length-1|0;"0"===a[v];)v=v-1|0;"."===a[v]&&(v=v-1|0),a=a.slice(0,v+1|0)}}}}else a="inf",n[2]=" ";return h(n,a)}function v(t){return g._2(w,t,r)}var g=n(5),p=n(10),x=n(23),b=n(34),y=n(0),w=function(t,i){var n=+t;if(t.length>0&&n===n)return n;if(t=t.replace(/_/g,""),n=+t,t.length>0&&n===n||/^[+-]?nan$/i.test(t))return n;if(/^ *0x[0-9a-f_]+p[+-]?[0-9_]+/i.test(t)){var r=t.indexOf("p");r=-1==r?t.indexOf("P"):r;var e=+t.substring(r+1);return(n=+t.substring(0,r))*Math.pow(2,e)}return/^\+?inf(inity)?$/i.test(t)?1/0:/^-inf(inity)?$/i.test(t)?-1/0:void i("float_of_string")},A=_,D=_,C=s,S=s;i.caml_format_float=d,i.caml_format_int=_,i.caml_nativeint_format=A,i.caml_int32_format=D,i.caml_float_of_string=v,i.caml_int64_format=m,i.caml_int_of_string=s,i.caml_int32_of_string=C,i.caml_int64_of_string=u,i.caml_nativeint_of_string=S},function(t,i,n){"use strict";function r(t){for(var i=0,n=t;;){var r=n,e=i;if(!r)return e;n=r[1],i=e+1|0}}function e(t){if(t)return t[0];throw[V.failure,"hd"]}function a(t){if(t)return t[1];throw[V.failure,"tl"]}function o(t,i){if(i<0)throw[V.invalid_argument,"List.nth"];for(var n=t,r=i;;){var e=r,a=n;if(a){if(e){r=e-1|0,n=a[1];continue}return a[0]}throw[V.failure,"nth"]}}function s(t,i){for(;;){var n=i,r=t;if(!r)return n;i=[r[0],n],t=r[1]}}function u(t){return s(t,0)}function c(t){return t?j.$at(t[0],c(t[1])):0}function f(t,i){if(i){return[Y._1(t,i[0]),f(t,i[1])]}return 0}function l(t,i,n){if(n){return[Y._2(i,t,n[0]),l(t+1|0,i,n[1])]}return 0}function h(t,i){return l(0,t,i)}function _(t,i){for(var n=0,r=i;;){var e=r,a=n;if(!e)return a;r=e[1],n=[Y._1(t,e[0]),a]}}function m(t,i){for(;;){var n=i;{if(!n)return 0;Y._1(t,n[0]),i=n[1]}}}function d(t,i){for(var n=0,r=t,e=i;;){var a=e,o=n;if(!a)return 0;Y._2(r,o,a[0]),e=a[1],n=o+1|0}}function v(t,i,n){for(;;){var r=n,e=i;if(!r)return e;n=r[1],i=Y._2(t,e,r[0])}}function g(t,i,n){return i?Y._2(t,i[0],g(t,i[1],n)):n}function p(t,i,n){if(i){if(n){return[Y._2(t,i[0],n[0]),p(t,i[1],n[1])]}throw[V.invalid_argument,"List.map2"]}if(n)throw[V.invalid_argument,"List.map2"];return 0}function x(t,i,n){for(var r=0,e=i,a=n;;){var o=a,s=e,u=r;if(s){if(o){a=o[1],e=s[1],r=[Y._2(t,s[0],o[0]),u];continue}throw[V.invalid_argument,"List.rev_map2"]}if(o)throw[V.invalid_argument,"List.rev_map2"];return u}}function b(t,i,n){for(;;){var r=n,e=i;if(e){if(r){Y._2(t,e[0],r[0]),n=r[1],i=e[1];continue}throw[V.invalid_argument,"List.iter2"]}if(r)throw[V.invalid_argument,"List.iter2"];return 0}}function y(t,i,n,r){for(;;){var e=r,a=n,o=i;if(a){if(e){r=e[1],n=a[1],i=Y._3(t,o,a[0],e[0]);continue}throw[V.invalid_argument,"List.fold_left2"]}if(e)throw[V.invalid_argument,"List.fold_left2"];return o}}function w(t,i,n,r){if(i){if(n)return Y._3(t,i[0],n[0],w(t,i[1],n[1],r));throw[V.invalid_argument,"List.fold_right2"]}if(n)throw[V.invalid_argument,"List.fold_right2"];return r}function A(t,i){for(;;){var n=i;if(n){if(Y._1(t,n[0])){i=n[1];continue}return 0}return 1}}function D(t,i){for(;;){var n=i;{if(!n)return 0;if(Y._1(t,n[0]))return 1;i=n[1]}}}function C(t,i,n){for(;;){var r=n,e=i;if(e){if(r){if(Y._2(t,e[0],r[0])){n=r[1],i=e[1];continue}return 0}throw[V.invalid_argument,"List.for_all2"]}if(r)throw[V.invalid_argument,"List.for_all2"];return 1}}function S(t,i,n){for(;;){var r=n,e=i;if(e){if(r){if(Y._2(t,e[0],r[0]))return 1;n=r[1],i=e[1];continue}throw[V.invalid_argument,"List.exists2"]}if(r)throw[V.invalid_argument,"List.exists2"];return 0}}function z(t,i){for(;;){var n=i;if(n){if(U.caml_compare(n[0],t)){i=n[1];continue}return 1}return 0}}function k(t,i){for(;;){var n=i;{if(!n)return 0;if(n[0]===t)return 1;i=n[1]}}}function P(t,i){for(;;){var n=i;if(n){var r=n[0];if(U.caml_compare(r[0],t)){i=n[1];continue}return r[1]}throw V.not_found}}function B(t,i){for(;;){var n=i;{if(!n)throw V.not_found;var r=n[0];if(r[0]===t)return r[1];i=n[1]}}}function E(t,i){for(;;){var n=i;if(n){if(U.caml_compare(n[0][0],t)){i=n[1];continue}return 1}return 0}}function R(t,i){for(;;){var n=i;{if(!n)return 0;if(n[0][0]===t)return 1;i=n[1]}}}function I(t,i){if(i){var n=i[1],r=i[0];return U.caml_compare(r[0],t)?[r,I(t,n)]:n}return 0}function M(t,i){if(i){var n=i[1],r=i[0];return r[0]===t?n:[r,M(t,n)]}return 0}function L(t,i){for(;;){var n=i;{if(!n)throw V.not_found;var r=n[0];if(Y._1(t,r))return r;i=n[1]}}}function N(t){return function(i){for(var n=0,r=i;;){var e=r,a=n;if(!e)return s(a,0);var o=e[1],u=e[0];Y._1(t,u)?(r=o,n=[u,a]):r=o}}}function F(t,i){for(var n=0,r=0,e=i;;){var a=e,o=r,u=n;if(!a)return[s(u,0),s(o,0)];var c=a[1],f=a[0];Y._1(t,f)?(e=c,n=[f,u]):(e=c,r=[f,o])}}function O(t){if(t){var i=t[0],n=O(t[1]);return[[i[0],n[0]],[i[1],n[1]]]}return[0,0]}function G(t,i){if(t){if(i)return[[t[0],i[0]],G(t[1],i[1])];throw[V.invalid_argument,"List.combine"]}if(i)throw[V.invalid_argument,"List.combine"];return 0}function T(t,i,n){if(i){if(n){var r=n[0],e=i[0];return Y._2(t,e,r)<=0?[e,T(t,i[1],n)]:[r,T(t,i,n[1])]}return i}return n}function H(t,i){for(;;){var n=i,r=t;if(r){if(n){i=n[1],t=r-1|0;continue}throw[V.assert_failure,["list.ml",223,11]]}return n}}function q(t,i){var n=function(i,n){var r=0;if(2!==i)if(3!==i)r=1;else if(n){var a=n[1];if(a){var o=a[1];if(o){var u=o[0],c=a[0],f=n[0];return Y._2(t,f,c)<=0?Y._2(t,c,u)<=0?[f,[c,[u,0]]]:Y._2(t,f,u)<=0?[f,[u,[c,0]]]:[u,[f,[c,0]]]:Y._2(t,f,u)<=0?[c,[f,[u,0]]]:Y._2(t,c,u)<=0?[c,[u,[f,0]]]:[u,[c,[f,0]]]}r=1}else r=1}else r=1;else if(n){var l=n[1];if(l){var h=l[0],_=n[0];return Y._2(t,_,h)<=0?[_,[h,0]]:[h,[_,0]]}r=1}else r=1;if(1===r)for(var m=i>>1,d=i-m|0,v=H(m,n),g=e(m,n),p=e(d,v),x=g,b=p,y=0;;){var w=y,A=b,D=x;if(D){if(A){var C=A[0],S=D[0];if(Y._2(t,S,C)>0){y=[S,w],x=D[1];continue}y=[C,w],b=A[1];continue}return s(D,w)}return s(A,w)}},e=function(i,r){var e=0;if(2!==i)if(3!==i)e=1;else if(r){var a=r[1];if(a){var o=a[1];if(o){var u=o[0],c=a[0],f=r[0];return Y._2(t,f,c)>0?Y._2(t,c,u)>0?[f,[c,[u,0]]]:Y._2(t,f,u)>0?[f,[u,[c,0]]]:[u,[f,[c,0]]]:Y._2(t,f,u)>0?[c,[f,[u,0]]]:Y._2(t,c,u)>0?[c,[u,[f,0]]]:[u,[c,[f,0]]]}e=1}else e=1}else e=1;else if(r){var l=r[1];if(l){var h=l[0],_=r[0];return Y._2(t,_,h)>0?[_,[h,0]]:[h,[_,0]]}e=1}else e=1;if(1===e)for(var m=i>>1,d=i-m|0,v=H(m,r),g=n(m,r),p=n(d,v),x=g,b=p,y=0;;){var w=y,A=b,D=x;if(D){if(A){var C=A[0],S=D[0];if(Y._2(t,S,C)<=0){y=[S,w],x=D[1];continue}y=[C,w],b=A[1];continue}return s(D,w)}return s(A,w)}},a=r(i);return a<2?i:n(a,i)}function $(t,i){var n=function(i,n){var r=0;if(2!==i)if(3!==i)r=1;else if(n){var a=n[1];if(a){var o=a[1];if(o){var u=o[0],c=a[0],f=n[0],l=Y._2(t,f,c);if(l){if(l<0){var h=Y._2(t,c,u);if(h){if(h<0)return[f,[c,[u,0]]];var _=Y._2(t,f,u);return _?_<0?[f,[u,[c,0]]]:[u,[f,[c,0]]]:[f,[c,0]]}return[f,[c,0]]}var m=Y._2(t,f,u);if(m){if(m<0)return[c,[f,[u,0]]];var d=Y._2(t,c,u);return d?d<0?[c,[u,[f,0]]]:[u,[c,[f,0]]]:[c,[f,0]]}return[c,[f,0]]}var v=Y._2(t,c,u);return v?v<0?[c,[u,0]]:[u,[c,0]]:[c,0]}r=1}else r=1}else r=1;else if(n){var g=n[1];if(g){var p=g[0],x=n[0],b=Y._2(t,x,p);return b?b<0?[x,[p,0]]:[p,[x,0]]:[x,0]}r=1}else r=1;if(1===r)for(var y=i>>1,w=i-y|0,A=H(y,n),D=e(y,n),C=e(w,A),S=D,z=C,k=0;;){var P=k,B=z,E=S;if(E){if(B){var R=B[1],I=B[0],M=E[1],L=E[0],N=Y._2(t,L,I);if(N){if(N>0){k=[L,P],S=M;continue}k=[I,P],z=R;continue}k=[L,P],z=R,S=M;continue}return s(E,P)}return s(B,P)}},e=function(i,r){var e=0;if(2!==i)if(3!==i)e=1;else if(r){var a=r[1];if(a){var o=a[1];if(o){var u=o[0],c=a[0],f=r[0],l=Y._2(t,f,c);if(l){if(l>0){var h=Y._2(t,c,u);if(h){if(h>0)return[f,[c,[u,0]]];var _=Y._2(t,f,u);return _?_>0?[f,[u,[c,0]]]:[u,[f,[c,0]]]:[f,[c,0]]}return[f,[c,0]]}var m=Y._2(t,f,u);if(m){if(m>0)return[c,[f,[u,0]]];var d=Y._2(t,c,u);return d?d>0?[c,[u,[f,0]]]:[u,[c,[f,0]]]:[c,[f,0]]}return[c,[f,0]]}var v=Y._2(t,c,u);return v?v>0?[c,[u,0]]:[u,[c,0]]:[c,0]}e=1}else e=1}else e=1;else if(r){var g=r[1];if(g){var p=g[0],x=r[0],b=Y._2(t,x,p);return b?b>0?[x,[p,0]]:[p,[x,0]]:[x,0]}e=1}else e=1;if(1===e)for(var y=i>>1,w=i-y|0,A=H(y,r),D=n(y,r),C=n(w,A),S=D,z=C,k=0;;){var P=k,B=z,E=S;if(E){if(B){var R=B[1],I=B[0],M=E[1],L=E[0],N=Y._2(t,L,I);if(N){if(N<0){k=[L,P],S=M;continue}k=[I,P],z=R;continue}k=[L,P],z=R,S=M;continue}return s(E,P)}return s(B,P)}},a=r(i);return a<2?i:n(a,i)}var Y=n(5),U=n(7),j=n(18),V=n(0),X=j.$at,W=c,K=N,Z=q,J=q;i.length=r,i.hd=e,i.tl=a,i.nth=o,i.rev=u,i.append=X,i.rev_append=s,i.concat=W,i.flatten=c,i.iter=m,i.iteri=d,i.map=f,i.mapi=h,i.rev_map=_,i.fold_left=v,i.fold_right=g,i.iter2=b,i.map2=p,i.rev_map2=x,i.fold_left2=y,i.fold_right2=w,i.for_all=A,i.exists=D,i.for_all2=C,i.exists2=S,i.mem=z,i.memq=k,i.find=L,i.filter=K,i.find_all=N,i.partition=F,i.assoc=P,i.assq=B,i.mem_assoc=E,i.mem_assq=R,i.remove_assoc=I,i.remove_assq=M,i.split=O,i.combine=G,i.sort=Z,i.stable_sort=q,i.fast_sort=J,i.sort_uniq=$,i.merge=T},function(t,i,n){"use strict";function r(t){throw[Et.failure,t]}function e(t){throw[Et.invalid_argument,t]}function a(t,i){return Ct.caml_lessequal(t,i)?t:i}function o(t,i){return Ct.caml_greaterequal(t,i)?t:i}function s(t){return t>=0?t:0|-t}function u(t){return-1^t}function c(t,i){return t+i}function f(t){if(t<0||t>255)throw[Et.invalid_argument,"char_of_int"];return t}function l(t){return t?"true":"false"}function h(t){switch(t){case"false":return 0;case"true":return 1;default:throw[Et.invalid_argument,"bool_of_string"]}}function _(t){return""+t}function m(t){for(var i=t.length,n=0;;){var r=n;if(r>=i)return c(t,".");var e=kt.get(t,r);if(e>=48){if(e>=58)return t;n=r+1|0}else{if(45!==e)return t;n=r+1|0}}}function d(t){return m(zt.caml_format_float("%.12g",t))}function v(t,i){return t?[t[0],v(t[1],i)]:i}function g(t,i,n){return Dt.caml_ml_open_descriptor_out(Bt.not_implemented("caml_sys_open not implemented by bucklescript yet\n"))}function p(t){return g([1,[3,[4,[7,0]]]],438,t)}function x(t){return g([1,[3,[4,[6,0]]]],438,t)}function b(){for(var t=Dt.caml_ml_out_channels_list(0);;){var i=t;{if(!i)return 0;try{Dt.caml_ml_flush(i[0])}catch(t){}t=i[1]}}}function y(t,i){return Dt.caml_ml_output(t,i,0,i.length)}function w(t,i){return Dt.caml_ml_output(t,i,0,i.length)}function A(t,i,n,r){if(n<0||r<0||n>(i.length-r|0))throw[Et.invalid_argument,"output"];return Dt.caml_ml_output(t,i,n,r)}function D(t,i,n,r){if(n<0||r<0||n>(i.length-r|0))throw[Et.invalid_argument,"output_substring"];return Dt.caml_ml_output(t,i,n,r)}function C(t,i){return Bt.not_implemented("caml_output_value not implemented by bucklescript yet\n")}function S(t){return Dt.caml_ml_flush(t),Bt.not_implemented("caml_ml_close_channel not implemented by bucklescript yet\n")}function z(t){try{Dt.caml_ml_flush(t)}catch(t){}try{return Bt.not_implemented("caml_ml_close_channel not implemented by bucklescript yet\n")}catch(t){return 0}}function k(t,i,n){return Dt.caml_ml_open_descriptor_in(Bt.not_implemented("caml_sys_open not implemented by bucklescript yet\n"))}function P(t){return k([0,[7,0]],0,t)}function B(t){return k([0,[6,0]],0,t)}function E(t,i,n,r){if(n<0||r<0||n>(i.length-r|0))throw[Et.invalid_argument,"input"];return Bt.not_implemented("caml_ml_input not implemented by bucklescript yet\n")}function R(t,i,n,r){for(;;){var e=r,a=n;if(e<=0)return 0;var o=Bt.not_implemented("caml_ml_input not implemented by bucklescript yet\n");if(!o)throw Et.end_of_file;r=e-o|0,n=a+o|0}}function I(t,i,n,r){if(n<0||r<0||n>(i.length-r|0))throw[Et.invalid_argument,"really_input"];return R(t,i,n,r)}function M(t,i){var n=kt.caml_create_string(i);return I(t,n,0,i),kt.bytes_to_string(n)}function L(t){var i=function(t,i,n){for(;;){var r=n,e=i;if(!r)return t;var a=r[0],o=a.length;kt.caml_blit_bytes(a,0,t,e-o|0,o),n=r[1],i=e-o|0}};return kt.bytes_to_string(function(n,r){for(;;){var e=r,a=n,o=Bt.not_implemented("caml_ml_input_scan_line not implemented by bucklescript yet\n");if(!o){if(a)return i(kt.caml_create_string(e),e,a);throw Et.end_of_file}if(o>0){var s=kt.caml_create_string(o-1|0);if(Bt.not_implemented("caml_ml_input not implemented by bucklescript yet\n"),Dt.caml_ml_input_char(t),a){var u=(e+o|0)-1|0;return i(kt.caml_create_string(u),u,[s,a])}return s}var c=kt.caml_create_string(0|-o);Bt.not_implemented("caml_ml_input not implemented by bucklescript yet\n"),r=e-o|0,n=[c,a]}}(0,0))}function N(){try{return Bt.not_implemented("caml_ml_close_channel not implemented by bucklescript yet\n")}catch(t){return 0}}function F(t){return Dt.caml_ml_output_char(Lt,t)}function O(t){return w(Lt,t)}function G(t){return y(Lt,t)}function T(t){return w(Lt,""+t)}function H(t){return w(Lt,m(zt.caml_format_float("%.12g",t)))}function q(t){return console.log(t),0}function $(){return Dt.caml_ml_output_char(Lt,10),Dt.caml_ml_flush(Lt)}function Y(t){return Dt.caml_ml_output_char(Nt,t)}function U(t){return w(Nt,t)}function j(t){return y(Nt,t)}function V(t){return w(Nt,""+t)}function X(t){return w(Nt,m(zt.caml_format_float("%.12g",t)))}function W(t){return console.error(t),0}function K(){return Dt.caml_ml_output_char(Nt,10),Dt.caml_ml_flush(Nt)}function Z(){return Dt.caml_ml_flush(Lt),L(Mt)}function J(){return zt.caml_int_of_string((Dt.caml_ml_flush(Lt),L(Mt)))}function Q(){return zt.caml_float_of_string((Dt.caml_ml_flush(Lt),L(Mt)))}function tt(t){return t[1]}function it(t,i){return[Rt.concat_fmt(t[0],i[0]),c(t[1],c("%,",i[1]))]}function nt(t){var i=Ft[0];return Ft[0]=function(){return At._1(t,0),At._1(i,0)},0}function rt(){return At._1(Ft[0],0)}function et(t){return rt(0),St.caml_sys_exit(t)}function at(t,i){return Bt.not_implemented("caml_ml_output_int not implemented by bucklescript yet\n")}function ot(t,i){return Bt.not_implemented("caml_ml_seek_out not implemented by bucklescript yet\n")}function st(){return Bt.not_implemented("caml_ml_pos_out not implemented by bucklescript yet\n")}function ut(){return Bt.not_implemented("caml_ml_channel_size not implemented by bucklescript yet\n")}function ct(t,i){return Bt.not_implemented("caml_ml_set_binary_mode not implemented by bucklescript yet\n")}function ft(){return Bt.not_implemented("caml_ml_input_int not implemented by bucklescript yet\n")}function lt(){return Bt.not_implemented("caml_input_value not implemented by bucklescript yet\n")}function ht(t,i){return Bt.not_implemented("caml_ml_seek_in not implemented by bucklescript yet\n")}function _t(){return Bt.not_implemented("caml_ml_pos_in not implemented by bucklescript yet\n")}function mt(){return Bt.not_implemented("caml_ml_channel_size not implemented by bucklescript yet\n")}function dt(){return Bt.not_implemented("caml_ml_close_channel not implemented by bucklescript yet\n")}function vt(t,i){return Bt.not_implemented("caml_ml_set_binary_mode not implemented by bucklescript yet\n")}function gt(t,i){return Bt.not_implemented("caml_ml_seek_out_64 not implemented by bucklescript yet\n")}function pt(){return Bt.not_implemented("caml_ml_pos_out_64 not implemented by bucklescript yet\n")}function xt(){return Bt.not_implemented("caml_ml_channel_size_64 not implemented by bucklescript yet\n")}function bt(t,i){return Bt.not_implemented("caml_ml_seek_in_64 not implemented by bucklescript yet\n")}function yt(){return Bt.not_implemented("caml_ml_pos_in_64 not implemented by bucklescript yet\n")}function wt(){return Bt.not_implemented("caml_ml_channel_size_64 not implemented by bucklescript yet\n")}var At=n(5),Dt=n(52),Ct=n(7),St=n(24),zt=n(16),kt=n(8),Pt=n(15),Bt=n(33),Et=n(0),Rt=n(54),It=Pt.create("Pervasives.Exit"),Mt=Dt.stdin,Lt=Dt.stdout,Nt=Dt.stderr,Ft=[b],Ot=Number.MAX_VALUE,Gt=Number.MIN_VALUE,Tt=Dt.caml_ml_flush,Ht=Dt.caml_ml_output_char,qt=Dt.caml_ml_output_char,$t=Dt.caml_ml_input_char,Yt=Dt.caml_ml_input_char,Ut=[gt,pt,xt,bt,yt,wt];i.invalid_arg=e,i.failwith=r,i.Exit=It,i.min=a,i.max=o,i.abs=s,i.max_int=2147483647,i.min_int=-2147483648,i.lnot=u,i.infinity=1/0,i.neg_infinity=-1/0,i.nan=NaN,i.max_float=Ot,i.min_float=Gt,i.epsilon_float=2.220446049250313e-16,i.$caret=c,i.char_of_int=f,i.string_of_bool=l,i.bool_of_string=h,i.string_of_int=_,i.string_of_float=d,i.$at=v,i.stdin=Mt,i.stdout=Lt,i.stderr=Nt,i.print_char=F,i.print_string=O,i.print_bytes=G,i.print_int=T,i.print_float=H,i.print_endline=q,i.print_newline=$,i.prerr_char=Y,i.prerr_string=U,i.prerr_bytes=j,i.prerr_int=V,i.prerr_float=X,i.prerr_endline=W,i.prerr_newline=K,i.read_line=Z,i.read_int=J,i.read_float=Q,i.open_out=p,i.open_out_bin=x,i.open_out_gen=g,i.flush=Tt,i.flush_all=b,i.output_char=Ht,i.output_string=w,i.output_bytes=y,i.output=A,i.output_substring=D,i.output_byte=qt,i.output_binary_int=at,i.output_value=C,i.seek_out=ot,i.pos_out=st,i.out_channel_length=ut,i.close_out=S,i.close_out_noerr=z,i.set_binary_mode_out=ct,i.open_in=P,i.open_in_bin=B,i.open_in_gen=k,i.input_char=$t,i.input_line=L,i.input=E,i.really_input=I,i.really_input_string=M,i.input_byte=Yt,i.input_binary_int=ft,i.input_value=lt,i.seek_in=ht,i.pos_in=_t,i.in_channel_length=mt,i.close_in=dt,i.close_in_noerr=N,i.set_binary_mode_in=vt,i.LargeFile=Ut,i.string_of_format=tt,i.$caret$caret=it,i.exit=et,i.at_exit=nt,i.valid_float_lexem=m,i.unsafe_really_input=R,i.do_at_exit=rt},function(t,i,n){"use strict";var r,e,a=n(11),o=n(9);r=function(t,i){this.initialize(t,i)},e=r.prototype=new a,e.initialize=function(t){return this.border=o.get32(void 0===t?8882055:t),this},e.toString=function(){return"[LineColor]"},t.exports=r},function(t,i,n){"use strict";var r,e,a=n(4);r=function(t,i){this.initialize(t,i)},e=r.prototype=new a,e.initialize=function(t,i){if(this.xAxis=t||30,this.zAxis=i||30,this.xAxis%2==1)throw new Error("xAxis must be even number");if(this.xAxis<=4||this.zAxis<=2)throw new Error("dimension is too small");return this},e.toString=function(){return"[SideXDimension]"},t.exports=r},function(t,i,n){"use strict";var r,e,a=n(4);r=function(t,i){this.initialize(t,i)},e=r.prototype=new a,e.initialize=function(t,i){if(this.yAxis=t||30,this.zAxis=i||30,this.yAxis%2==1)throw new Error("yAxis must be even number");if(this.yAxis<=4||this.zAxis<=2)throw new Error("dimension is too small");return this},e.toString=function(){return"[SideYDimension]"},t.exports=r},function(t,i,n){"use strict";function r(t,i,n){for(var r=new Array(n),e=0,a=i;e<n;)r[e]=t[a],e=e+1|0,a=a+1|0;return r}function e(t,i){for(;;){var n=i,r=t;if(!n)return r;i=n[1],t=n[0].length+r|0}}function a(t,i,n){for(;;){var r=n,e=i;if(!r)return 0;for(var a=r[0],o=a.length,s=e,u=0;u<o;)t[s]=a[u],s=s+1|0,u=u+1|0;n=r[1],i=s}}function o(t){var i=e(0,t),n=new Array(i);return a(n,0,t),n}function s(t,i,n){if(i<0||i>=t.length)throw[l.invalid_argument,"index out of bounds"];return t[i]=n,0}function u(t,i){if(i<0||i>=t.length)throw[l.invalid_argument,"index out of bounds"];return t[i]}function c(t,i){for(var n=new Array(t),r=0,e=t-1|0;r<=e;++r)n[r]=i;return n}function f(t,i,n,r,e){if(r<=i){for(var a=0,o=e-1|0;a<=o;++a)n[a+r|0]=t[a+i|0];return 0}for(var s=e-1|0;s>=0;--s)n[s+r|0]=t[s+i|0];return 0}var l=n(0);i.caml_array_sub=r,i.caml_array_concat=o,i.caml_make_vect=c,i.caml_array_blit=f,i.caml_array_get=u,i.caml_array_set=s},function(t,i,n){"use strict";function r(t){return+(0!=(2147483648&t))}function e(t,i){var n=i[1],e=t[1],a=e+n&4294967295,o=r(e)&&(r(n)||!r(a))||r(n)&&!r(a)?1:0;return[t[0]+i[0]+o&4294967295,a>>>0]}function a(t){return[-1^t[0],(-1^t[1])>>>0]}function o(t,i){return t[0]===i[0]?+(t[1]===i[1]):0}function s(t){return o(t,T)?T:e(a(t),q)}function u(t,i){return e(t,s(i))}function c(t,i){if(i){var n=t[1];if(i>=32)return[n<<(i-32|0),0];return[n>>>(32-i|0)|t[0]<<i,n<<i>>>0]}return t}function f(t,i){if(i){var n=t[0],r=i-32|0;if(r){if(r>0){return[0,n>>>r>>>0]}return[n>>>i,(n<<(0|-r)|t[1]>>>i)>>>0]}return[0,n>>>0]}return t}function l(t,i){if(i){var n=t[0];if(i<32){return[n>>i,(n<<(32-i|0)|t[1]>>>i)>>>0]}var r=n>>(i-32|0);return[n>=0?0:-1,r>>>0]}return t}function h(t){return 0!==t[0]||0!==t[1]?0:1}function _(t,i){for(;;){var n,r=i,e=t,a=0,o=e[0],u=0,c=0,f=0;if(0!==o)f=4;else{if(0===e[1])return $;f=4}if(4===f)if(0!==r[0])c=3;else{if(0===r[1])return $;c=3}if(3===c&&(-2147483648!==o?u=2:0!==e[1]?u=2:(n=r[1],a=1)),2===u){var l=r[0],h=e[1],m=0;if(-2147483648!==l?m=3:0!==r[1]?m=3:(n=h,a=1),3===m){var d=r[1];if(o<0){if(l<0){i=s(r),t=s(e);continue}return s(_(s(e),r))}if(l<0)return s(_(e,s(r)));var v=o>>>16,g=65535&o,p=h>>>16,x=65535&h,b=l>>>16,y=65535&l,w=d>>>16,A=65535&d,D=0,C=0,S=0,z=x*A;S=(z>>>16)+p*A,C=S>>>16,S=(65535&S)+x*w,C=C+(S>>>16)+g*A,D=C>>>16,C=(65535&C)+p*w,D+=C>>>16,C=(65535&C)+x*y,D+=C>>>16,C&=65535,D=D+(v*A+g*w+p*y+x*b)&65535;return[C|D<<16,(65535&z|(65535&S)<<16)>>>0]}}if(1===a)return 0==(1&n)?$:T}}function m(t){return[F.caml_int32_bswap(t[1]),F.caml_int32_bswap(t[0])>>>0]}function d(t,i){return[t[0]^i[0],(t[1]^i[1])>>>0]}function v(t,i){return[t[0]|i[0],(t[1]|i[1])>>>0]}function g(t,i){return[t[0]&i[0],(t[1]&i[1])>>>0]}function p(t,i){var n=i[0],r=t[0];return r>n?1:r<n?0:+(t[1]>=i[1])}function x(t,i){return 1-o(t,i)}function b(t,i){return 1-p(t,i)}function y(t,i){return t[0]>i[0]?1:t[0]<i[0]?0:+(t[1]>i[1])}function w(t,i){return 1-y(t,i)}function A(t){return 4294967296*t[0]+t[1]}function D(t){return isNaN(t)||!isFinite(t)?$:t<=V?T:t+1>=j?H:t<0?s(D(-t)):[t/U|0,(t%U|0)>>>0]}function C(t,i){for(;;){var n=i,r=t,a=r[0],u=0,f=0;if(0!==n[0])f=2;else{if(0===n[1])throw G.division_by_zero;f=2}if(2===f)if(-2147483648!==a)if(0!==a)u=1;else{if(0===r[1])return $;u=1}else if(0!==r[1])u=1;else{if(o(n,q)||o(n,Y))return r;if(o(n,T))return q;var m=n[0],d=l(r,1),v=c(C(d,n),1),g=0;if(0!==v[0])g=3;else{if(0===v[1])return m<0?q:s(q);g=3}if(3===g){var x=_(n,v),b=e(r,s(x));return e(v,C(b,n))}}if(1===u){var w=n[0],S=0;if(-2147483648!==w)S=2;else{if(0===n[1])return $;S=2}if(2===S){if(a<0){if(w<0){i=s(n),t=s(r);continue}return s(C(s(r),n))}if(w<0)return s(C(r,s(n)));for(var z=$,k=r;p(k,n);){for(var P=Math.max(1,Math.floor(A(k)/A(n))),B=Math.ceil(Math.log(P)/Math.LN2),E=B<=48?1:Math.pow(2,B-48),R=D(P),I=_(R,n);I[0]<0||y(I,k);)P-=E,R=D(P),I=_(R,n);h(R)&&(R=q),z=e(z,R),k=e(k,s(I))}return z}}}}function S(t,i){return e(t,s(_(C(t,i),i)))}function z(t,i){var n=C(t,i);return[n,e(t,s(_(n,i)))]}function k(t,i){var n=N.caml_nativeint_compare(t[0],i[0]);return n||N.caml_nativeint_compare(t[1],i[1])}function P(t){return[t<0?-1:0,t>>>0]}function B(t){return 0|t[1]}function E(t){var i=function(t){return(t>>>0).toString(16)},n=t[0],r=t[1],e=0;if(0!==n)e=1;else{if(0===r)return"0";e=1}if(1===e){if(0!==r){if(0!==n){var a=i(t[1]),o=8-a.length|0;return o<=0?i(t[0])+a:i(t[0])+(O.repeat(o,"0")+a)}return i(t[1])}return i(t[0])+"00000000"}}function R(t){return[2147483647&t[0],t[1]]}function I(t){var i=new Int32Array([t[1],t[0]]);return new Float64Array(i.buffer)[0]}function M(t){var i=new Float64Array([t]),n=new Int32Array(i.buffer);return[n[1],n[0]>>>0]}function L(t,i){return[t.charCodeAt(i+4|0)<<32|t.charCodeAt(i+5|0)<<40|t.charCodeAt(i+6|0)<<48|t.charCodeAt(i+7|0)<<56,(t.charCodeAt(i)|t.charCodeAt(i+1|0)<<8|t.charCodeAt(i+2|0)<<16|t.charCodeAt(i+3|0)<<24)>>>0]}var N=n(7),F=n(10),O=n(34),G=n(0),T=[-2147483648,0],H=[134217727,1],q=[0,1],$=[0,0],Y=[-1,4294967295],U=Math.pow(2,32),j=Math.pow(2,63),V=-Math.pow(2,63);i.min_int=T,i.max_int=H,i.one=q,i.zero=$,i.not=a,i.of_int32=P,i.to_int32=B,i.add=e,i.neg=s,i.sub=u,i.lsl_=c,i.lsr_=f,i.asr_=l,i.is_zero=h,i.mul=_,i.xor=d,i.or_=v,i.and_=g,i.swap=m,i.ge=p,i.eq=o,i.neq=x,i.lt=b,i.gt=y,i.le=w,i.to_float=A,i.of_float=D,i.div=C,i.mod_=S,i.div_mod=z,i.compare=k,i.to_hex=E,i.discard_sign=R,i.float_of_bits=I,i.bits_of_float=M,i.get64=L},function(t,i,n){"use strict";(function(t){function r(i){var n=void 0===t?void 0:t;if(void 0!==n){var r=n.env[i];if(void 0!==r)return r;throw h.not_found}throw h.not_found}function e(){var i=void 0===t?void 0:t;return void 0!==i?i.uptime():-1}function a(){return[(4294967295^(0|Date.now()))*Math.random()|0]}function o(){return 127}function s(){var i=void 0===t?void 0:t;return void 0!==i?i.cwd():"/"}function u(){var i=void 0===t?void 0:t;return void 0!==i?[i.argv[0],i.argv]:["",[""]]}function c(i){var n=void 0===t?void 0:t;return void 0!==n?n.exit(i):0}function f(){throw[h.failure,"caml_sys_is_directory not implemented"]}function l(){throw[h.failure,"caml_sys_file_exists not implemented"]}var h=n(0);i.caml_sys_getenv=r,i.caml_sys_time=e,i.caml_sys_random_seed=a,i.caml_sys_system_command=o,i.caml_sys_getcwd=s,i.caml_sys_get_argv=u,i.caml_sys_exit=c,i.caml_sys_is_directory=f,i.caml_sys_file_exists=l}).call(i,n(46))},function(t,i,n){"use strict";var r,e,a=n(4);r=function(t,i){this.initialize(t,i)},e=r.prototype=new a,e.initialize=function(t,i){if(this.xAxis=t||30,this.yAxis=i||30,this.xAxis%2==1||this.yAxis%2==1)throw new Error("x,yAxis must be even number");if(this.xAxis<=4||this.yAxis<=4)throw new Error("dimension is too small");return this},e.toString=function(){return"[BrickDimension]"},t.exports=r},function(t,i,n){"use strict";var r,e;r=function(t,i){this.initialize(t,i)},e=r.prototype,e.x=0,e.y=0,e.initialize=function(t,i){return this.x=void 0===t?0:t,this.y=void 0===i?0:i,this},e.toString=function(){return"[Point x : "+this.x+", y : "+this.y+"]"},t.exports=r},function(t,i,n){"use strict";var r,e,a=n(20),o=n(6),s=n(2),u=n(1),c=n(3);r=function(t,i,n,r){this.initialize(t,i,n,r)},e=r.prototype=new c,e.initialize=function(t,i,n,r){return this.initRender(t,i,n,r),this.initRectangle(),this.initBitmapData(),this.build(),this.renderBitmapDataForCanvas(),this},e.initRender=function(t,i,n,r){this.useDefaultCanvas=r||!1,this.border=n||void 0===n,this.dimension=void 0===t?new a:t,this.color=void 0===i?new o:i},e.initRectangle=function(){this.w=this.dimension.xAxis,this.h=this.dimension.zAxis+this.dimension.xAxis/2,this.matrix=new s,this.matrix.tx=0,this.matrix.ty=-this.dimension.zAxis},e.initBitmapData=function(){this.bitmapData=new u(this.w,this.h,this.useDefaultCanvas)},e.renderBitmapDataForCanvas=function(){this.bitmapData.context.putImageData(this.bitmapData.imageData,0,0),this.canvas=this.bitmapData.canvas},e.build=function(){var t,i,n,r,e,a,o;for(t=0,i=this.dimension.zAxis,n=this.dimension.xAxis-1,r=this.h-this.dimension.zAxis-1,o=this.border?this.color.border:this.color.inner,e=0;e<this.dimension.xAxis;e+=1)this.bitmapData.setPixel(t+e,i+Math.floor(e/2),o),this.bitmapData.setPixel(n-e,r-Math.floor(e/2),o);for(a=0;a<this.dimension.zAxis;a+=1)this.bitmapData.setPixel(t,i-a,o),this.bitmapData.setPixel(n,r+a,o);this.bitmapData.floodFill(Math.floor(this.w/2),Math.floor(this.h/2),this.color.inner)},e.toString=function(){return"[SideX]"},t.exports=r},function(t,i,n){"use strict";var r,e,a=n(21),o=n(6),s=n(2),u=n(1),c=n(3);r=function(t,i,n,r){this.initialize(t,i,n,r)},e=r.prototype=new c,e.initialize=function(t,i,n,r){return this.initRender(t,i,n,r),this.initRectangle(),this.initBitmapData(),this.build(),this.renderBitmapDataForCanvas(),this},e.initRender=function(t,i,n,r){this.useDefaultCanvas=r||!1,this.border=n||void 0===n,this.dimension=void 0===t?new a:t,this.color=void 0===i?new o:i},e.initRectangle=function(){this.w=this.dimension.yAxis,this.h=this.dimension.zAxis+this.dimension.yAxis/2,this.matrix=new s,this.matrix.tx=2-this.dimension.yAxis,this.matrix.ty=-this.dimension.zAxis},e.initBitmapData=function(){this.bitmapData=new u(this.w,this.h,this.useDefaultCanvas)},e.renderBitmapDataForCanvas=function(){this.bitmapData.context.putImageData(this.bitmapData.imageData,0,0),this.canvas=this.bitmapData.canvas},e.build=function(){var t,i,n,r,e,a,o;for(t=0,i=this.h-this.dimension.zAxis-1,n=this.dimension.yAxis-1,r=this.dimension.zAxis,o=this.border?this.color.border:this.color.inner,e=0;e<this.dimension.yAxis;e+=1)this.bitmapData.setPixel(t+e,i-Math.floor(e/2),o),this.bitmapData.setPixel(n-e,r+Math.floor(e/2),o);for(a=0;a<this.dimension.zAxis;a+=1)this.bitmapData.setPixel(t,i+a,o),this.bitmapData.setPixel(n,r-a,o);this.bitmapData.floodFill(Math.floor(this.w/2),Math.floor(this.h/2),this.color.inner)},e.toString=function(){return"[SideY]"},t.exports=r},function(t,i,n){"use strict";function r(t){for(var i=0,n=t;;){var r=n,e=i;if(0===r)return e;n=r-1|0,i=[0,e]}}function e(t,i){return _.map(_.rev,_.rev(function(i,n){for(;;){var r=n,e=i;if(!r)return e;var a=r[1],o=r[0],s=0;if(e){var u=e[0];if(_.length(u)<t){n=a,i=[[o,u],e[1]];continue}s=1}else s=1;1!==s||(n=a,i=[[o,0],e])}}([0,0],i)))}function a(t){return+(0===_.length(t))}function o(t){var i=t[0];return e(i,r(d.imul(i,t[1])))}function s(t,i){var n=t[1],r=t[0];return _.mapi(function(t,i){return _.mapi(function(i,e){return 0!=+(t===n&&i===r)?0:e},i)},i)}function u(t,i){var n=t[1],r=t[0];return _.mapi(function(t,i){return _.mapi(function(i,e){return 0!=+(t===n&&i===r)?e+1|0:e},i)},i)}function c(t,i){var n=t[1],r=t[0];return u([r-1|0,n],u([r,n+1|0],u([r+1|0,n],u([r,n-1|0],s([r,n],i)))))}function f(t){return _.fold_left(function(t,i){return c(i,t)},t,_.map(function(t){return t[1]},_.filter(function(t){return t[0]})(_.fold_left(_.append,0,_.mapi(function(t,i){return _.mapi(function(i,n){return 0!=+(n<4)?[0,[i,t]]:[1,[i,t]]},i)},t)))))}function l(t){return t?[_.length(t[0]),_.length(t)]:[0,0]}function h(t){return m.map(m.of_list,m.of_list(t))}var _=n(17),m=n(31),d=n(10),v=[r,e,a];i.ListX=v,i.make=o,i.clear=s,i.incr=u,i.avalanche_cell=c,i.avalanche=f,i.size=l,i.to_array=h},function(t,i,n){"use strict";var r={};r.Cube=n(63),r.Brick=n(44),r.Pyramid=n(67),r.LineX=n(64),r.LineY=n(65),r.LineZ=n(66),r.SideX=n(27),r.SideY=n(28),r.SlopeEast=n(68),r.SlopeNorth=n(69),r.SlopeSouth=n(70),r.SlopeWest=n(71),r.ColorPattern=n(73),r.ColorGeom=n(9),r.CanvasManager=n(45),r.CanvasTool=n(72),r.Matrix=n(2),r.Point=n(26),r.Point3D=n(43),r.PixelView=n(62),r.PixelObject=n(14),r.BitmapData=n(1),r.BrickDimension=n(25),r.CubeDimension=n(38),r.PyramidDimension=n(42),r.LineXDimension=n(39),r.LineYDimension=n(40),r.LineZDimension=n(41),r.SideXDimension=n(20),r.SideYDimension=n(21),r.SlopeDimension=n(13),r.LineColor=n(19),r.CubeColor=n(36),r.PyramidColor=n(37),r.SideColor=n(6),r.SlopeColor=n(12),window.obelisk=r,t.exports=r},function(t,i,n){"use strict";function r(t,i){if(t){if(t<0)throw[C.invalid_argument,"Array.init"];for(var n=A.caml_make_vect(t,y._1(i,0)),r=1,e=t-1|0;r<=e;++r)n[r]=y._1(i,r);return n}return[]}function e(t,i,n){for(var r=A.caml_make_vect(t,[]),e=0,a=t-1|0;e<=a;++e)r[e]=A.caml_make_vect(i,n);return r}function a(t){var i=t.length;return i?A.caml_array_sub(t,0,i):[]}function o(t,i){var n=t.length;return n?i.length?t.concat(i):A.caml_array_sub(t,0,n):a(i)}function s(t,i,n){if(n<0||i>(t.length-n|0))throw[C.invalid_argument,"Array.sub"];return A.caml_array_sub(t,i,n)}function u(t,i,n,r){if(i<0||n<0||i>(t.length-n|0))throw[C.invalid_argument,"Array.fill"];for(var e=i,a=(i+n|0)-1|0;e<=a;++e)t[e]=r;return 0}function c(t,i,n,r,e){if(e<0||i<0||i>(t.length-e|0)||r<0||r>(n.length-e|0))throw[C.invalid_argument,"Array.blit"];return A.caml_array_blit(t,i,n,r,e)}function f(t,i){for(var n=0,r=i.length-1|0;n<=r;++n)y._1(t,i[n]);return 0}function l(t,i){var n=i.length;if(n){for(var r=A.caml_make_vect(n,y._1(t,i[0])),e=1,a=n-1|0;e<=a;++e)r[e]=y._1(t,i[e]);return r}return[]}function h(t,i){for(var n=0,r=i.length-1|0;n<=r;++n)y._2(t,n,i[n]);return 0}function _(t,i){var n=i.length;if(n){for(var r=A.caml_make_vect(n,y._2(t,0,i[0])),e=1,a=n-1|0;e<=a;++e)r[e]=y._2(t,e,i[e]);return r}return[]}function m(t){for(var i=t.length-1|0,n=0;;){var r=n,e=i;if(e<0)return r;n=[t[e],r],i=e-1|0}}function d(t,i){for(;;){var n=i,r=t;if(!n)return r;i=n[1],t=r+1|0}}function v(t){if(!t)return[];for(var i=A.caml_make_vect(d(0,t),t[0]),n=1,r=t[1];;){var e=r,a=n;if(!e)return i;i[a]=e[0],r=e[1],n=a+1|0}}function g(t,i,n){for(var r=i,e=0,a=n.length-1|0;e<=a;++e)r=y._2(t,r,n[e]);return r}function p(t,i,n){for(var r=n,e=i.length-1|0;e>=0;--e)r=y._2(t,i[e],r);return r}function x(t,i){for(var n=function(n,r){var e=1+((r+r|0)+r|0)|0,a=e;if((e+2|0)<n)return y._2(t,A.caml_array_get(i,e),A.caml_array_get(i,e+1|0))<0&&(a=e+1|0),y._2(t,A.caml_array_get(i,a),A.caml_array_get(i,e+2|0))<0&&(a=e+2|0),a;if((e+1|0)<n&&y._2(t,A.caml_array_get(i,e),A.caml_array_get(i,e+1|0))<0)return e+1|0;if(e<n)return e;throw[S,r]},r=i.length,e=((r+1|0)/3|0)-1|0;e>=0;--e)!function(r,e,a){try{for(var o=r,s=e,u=a;;){var c=s,f=n(o,c);if(!(y._2(t,A.caml_array_get(i,f),u)>0))return A.caml_array_set(i,c,u);A.caml_array_set(i,c,A.caml_array_get(i,f)),s=f}}catch(t){var l=w.internalToOCamlException(t);if(l[0]===S)return A.caml_array_set(i,l[1],a);throw l}}(r,e,A.caml_array_get(i,e));for(var a=r-1|0;a>=2;--a){var o=A.caml_array_get(i,a);A.caml_array_set(i,a,A.caml_array_get(i,0)),function(n,r){for(;;){var e=n,a=(e-1|0)/3|0;if(e===a)throw[C.assert_failure,["array.ml",168,4]];if(y._2(t,A.caml_array_get(i,a),r)<0){if(A.caml_array_set(i,e,A.caml_array_get(i,a)),a>0){n=a;continue}return A.caml_array_set(i,0,r)}return A.caml_array_set(i,e,r)}}(function(t,r){try{for(var e=t,a=r;;){var o=a,s=n(e,o);A.caml_array_set(i,o,A.caml_array_get(i,s)),a=s}}catch(t){var u=w.internalToOCamlException(t);if(u[0]===S)return u[1];throw u}}(a,0),o)}if(r>1){var s=A.caml_array_get(i,1);return A.caml_array_set(i,1,A.caml_array_get(i,0)),A.caml_array_set(i,0,s)}return 0}function b(t,i){var n=function(n,r,e,a,o,s,u){for(var f=n+r|0,l=a+o|0,h=n,_=A.caml_array_get(i,n),m=a,d=A.caml_array_get(e,a),v=u;;){var g=v,p=d,x=m,b=_,w=h;if(y._2(t,b,p)<=0){A.caml_array_set(s,g,b);var D=w+1|0;if(D<f){v=g+1|0,_=A.caml_array_get(i,D),h=D;continue}return c(e,x,s,g+1|0,l-x|0)}A.caml_array_set(s,g,p);var C=x+1|0;if(!(C<l))return c(i,w,s,g+1|0,f-w|0);v=g+1|0,d=A.caml_array_get(e,C),m=C}},r=function(n,r,e,a){for(var o=0,s=a-1|0;o<=s;++o){for(var u=A.caml_array_get(i,n+o|0),c=(e+o|0)-1|0;c>=e&&y._2(t,A.caml_array_get(r,c),u)>0;)A.caml_array_set(r,c+1|0,A.caml_array_get(r,c)),c=c-1|0;A.caml_array_set(r,c+1|0,u)}return 0},e=function(t,a,o,s){if(s<=5)return r(t,a,o,s);var u=s/2|0,c=s-u|0;return e(t+u|0,a,o+u|0,c),e(t,i,t+c|0,u),n(t+c|0,u,a,o+u|0,c,a,o)},a=i.length;if(a<=5)return r(0,i,0,a);var o=a/2|0,s=a-o|0,u=A.caml_make_vect(s,A.caml_array_get(i,0));return e(o,u,0,s),e(0,i,s,o),n(s,o,u,0,s,i,0)}var y=n(5),w=n(58),A=n(22),D=n(15),C=n(0),S=D.create("Array.Bottom"),z=e,k=A.caml_array_concat,P=b;i.init=r,i.make_matrix=e,i.create_matrix=z,i.append=o,i.concat=k,i.sub=s,i.copy=a,i.fill=u,i.blit=c,i.to_list=m,i.of_list=v,i.iter=f,i.map=l,i.iteri=h,i.mapi=_,i.fold_left=g,i.fold_right=p,i.sort=x,i.stable_sort=b,i.fast_sort=P},function(t,i,n){"use strict";function r(t,i){return i.tag=t,i}i.__=r},function(t,i,n){"use strict";var r=function(t){throw new Error(t)};i.not_implemented=r},function(t,i,n){"use strict";var r=String.prototype.repeat&&function(t,i){return i.repeat(t)}||function(t,i){if(0==i.length||0==t)return"";if(i.length*t>=1<<28)throw new RangeError("repeat count must not overflow maximum string size");for(var n="";1==(1&t)&&(n+=i),0!=(t>>>=1);)i+=i;return n};i.repeat=r},function(t,i,n){"use strict";function r(t){if(t<0||t>255)throw[c.invalid_argument,"Char.chr"];return t}function e(t){var i=0;if(t>=40){if(92===t)return"\\\\";i=t>=127?1:2}else if(t>=32){if(t>=39)return"\\'";i=2}else if(t>=14)i=1;else switch(t){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 11:case 12:i=1;break;case 13:return"\\r"}switch(i){case 1:var n=new Array(4);return n[0]=92,n[1]=48+(t/100|0)|0,n[2]=48+(t/10|0)%10|0,n[3]=48+t%10|0,u.bytes_to_string(n);case 2:var r=new Array(1);return r[0]=t,u.bytes_to_string(r)}}function a(t){return t>=65&&t<=90||t>=192&&t<=214||t>=216&&t<=222?t+32|0:t}function o(t){return t>=97&&t<=122||t>=224&&t<=246||t>=248&&t<=254?t-32|0:t}function s(t,i){return t-i|0}var u=n(8),c=n(0);i.chr=r,i.escaped=e,i.lowercase=a,i.uppercase=o,i.compare=s},function(t,i,n){"use strict";var r,e,a=n(11),o=n(9);r=function(t,i,n,r,e){this.initialize(t,i,n,r,e)},e=r.prototype=new a,e.BRIGHTNESS_GAIN=-20,e.initialize=function(t,i,n,r,e){return this.border=o.get32(void 0===t?8882055:t),this.borderHighlight=o.get32(void 0===i?16777215:i),this.left=o.get32(void 0===n?13225936:n),this.right=o.get32(void 0===r?14935011:r),this.horizontal=o.get32(void 0===e?15658992:e),this},e.getByHorizontalColor=function(t){return new r(o.applyBrightness(t,4*this.BRIGHTNESS_GAIN),o.applyBrightness(t,0,!0),o.applyBrightness(t,2*this.BRIGHTNESS_GAIN),o.applyBrightness(t,this.BRIGHTNESS_GAIN),t)},e.toString=function(){return"[CubeColor]"},t.exports=r},function(t,i,n){"use strict";var r,e,a=n(11),o=n(9);r=function(t,i,n,r){this.initialize(t,i,n,r)},e=r.prototype=new a,e.BRIGHTNESS_GAIN=-20,e.initialize=function(t,i,n,r){return this.border=o.get32(void 0===t?9737880:t),this.borderHighlight=o.get32(void 0===i?16777215:i),this.left=o.get32(void 0===n?15132905:n),this.right=o.get32(void 0===r?15658992:r),this},e.getByRightColor=function(t){return new r(o.applyBrightness(t,4*this.BRIGHTNESS_GAIN),o.applyBrightness(t,0,!0),o.applyBrightness(t,this.BRIGHTNESS_GAIN),t)},e.toString=function(){return"[PyramidColor]"},t.exports=r},function(t,i,n){"use strict";var r,e,a=n(4);r=function(t,i,n){this.initialize(t,i,n)},e=r.prototype=new a,e.initialize=function(t,i,n){if(this.xAxis=t||30,this.yAxis=i||30,this.zAxis=n||30,this.xAxis%2==1||this.yAxis%2==1)throw new Error("x,yAxis must be even number");if(this.xAxis<=4||this.yAxis<=4||this.zAxis<=2)throw new Error("dimension is too small");return this},e.toString=function(){return"[CubeDimension]"},t.exports=r},function(t,i,n){"use strict";var r,e,a=n(4);r=function(t){this.initialize(t)},e=r.prototype=new a,e.initialize=function(t){if(this.xAxis=t||30,this.xAxis%2==1)throw new Error("xAxis must be even number");if(this.xAxis<2)throw new Error("dimension is too small");return this},e.toString=function(){return"[LineXDimension]"},t.exports=r},function(t,i,n){"use strict";var r,e,a=n(4);r=function(t){this.initialize(t)},e=r.prototype=new a,e.initialize=function(t){if(this.yAxis=t||30,this.yAxis%2==1)throw new Error("yAxis must be even number");if(this.yAxis<2)throw new Error("dimension is too small");return this},e.toString=function(){return"[LineYDimension]"},t.exports=r},function(t,i,n){"use strict";var r,e,a=n(4);r=function(t){this.initialize(t)},e=r.prototype=new a,e.initialize=function(t){if(this.zAxis=t||30,this.zAxis<=0)throw new Error("dimension is too small");return this},e.toString=function(){return"[LineZDimension]"},t.exports=r},function(t,i,n){"use strict";var r,e,a=n(4);r=function(t,i){this.initialize(t,i)},e=r.prototype=new a,e.initialize=function(t,i){if(this.xAxis=t||30,this.yAxis=t||30,this.tall=i||!1,this.xAxis%2==1)throw new Error("axis must be even number");if(this.xAxis<=4)throw new Error("dimension is too small");return this},e.toString=function(){return"[PyramidDimension]"},t.exports=r},function(t,i,n){"use strict";var r,e,a=n(26);r=function(t,i,n){this.initialize(t,i,n)},e=r.prototype,e.x=0,e.y=0,e.z=0,e.initialize=function(t,i,n){return this.x=void 0===t?0:t,this.y=void 0===i?0:i,this.z=void 0===n?0:n,this},e.toGlobalCoordinates=function(t){var i=new a(this.x-this.y,Math.floor(this.x/2+this.y/2)-this.z);return void 0!==t&&(i.x=i.x+t.x,i.y=i.y+t.y),i},e.toString=function(){return"[Point3D x : "+this.x+", y : "+this.y+", z: "+this.z+"]"},t.exports=r},function(t,i,n){"use strict";var r,e,a=n(25),o=n(6),s=n(2),u=n(1),c=n(3);r=function(t,i,n,r){this.initialize(t,i,n,r)},e=r.prototype=new c,e.initialize=function(t,i,n,r){return this.initRender(t,i,n,r),this.initRectangle(),this.initBitmapData(),this.build(),this.renderBitmapDataForCanvas(),this},e.initRender=function(t,i,n,r){this.useDefaultCanvas=r||!1,this.border=n||void 0===n,this.dimension=void 0===t?new a:t,this.color=void 0===i?new o:i},e.initRectangle=function(){this.w=this.dimension.xAxis+this.dimension.yAxis,this.h=(this.dimension.xAxis+this.dimension.yAxis)/2,this.w-=2,this.h-=1,this.matrix=new s,this.matrix.tx=2-this.dimension.yAxis,this.matrix.ty=0},e.initBitmapData=function(){this.bitmapData=new u(this.w,this.h,this.useDefaultCanvas)},e.renderBitmapDataForCanvas=function(){this.bitmapData.context.putImageData(this.bitmapData.imageData,0,0),this.canvas=this.bitmapData.canvas},e.build=function(){var t,i,n,r,e,a,o;for(t=this.dimension.yAxis-2,i=0,n=this.dimension.xAxis-1,r=this.h-1,o=this.border?this.color.border:this.color.inner,e=0;e<this.dimension.xAxis;e+=1)this.bitmapData.setPixel(t+e,i+Math.floor(e/2),o),this.bitmapData.setPixel(n-e,r-Math.floor(e/2),o);for(a=0;a<this.dimension.yAxis;a+=1)this.bitmapData.setPixel(t+1-a,i+Math.floor(a/2),o),this.bitmapData.setPixel(n-1+a,r-Math.floor(a/2),o);this.bitmapData.floodFill(Math.floor(this.w/2),Math.floor(this.h/2),this.color.inner)},e.toString=function(){return"[Brick]"},t.exports=r},function(t,i,n){"use strict";var r,e;r=function(){throw new Error("CanvasManager is a static Class, cannot be instanced.")},e=r,e.defaultCanvas=null,e.getDefaultCanvas=function(){return e.defaultCanvas=e.defaultCanvas||document.createElement("canvas"),e.defaultCanvas},e.getNewCanvas=function(){return document.createElement("canvas")},e.toString=function(){return"[CanvasManager]"},t.exports=r},function(t,i){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function e(t){if(f===setTimeout)return setTimeout(t,0);if((f===n||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(i){try{return f.call(null,t,0)}catch(i){return f.call(this,t,0)}}}function a(t){if(l===clearTimeout)return clearTimeout(t);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(i){try{return l.call(null,t)}catch(i){return l.call(this,t)}}}function o(){d&&_&&(d=!1,_.length?m=_.concat(m):v=-1,m.length&&s())}function s(){if(!d){var t=e(o);d=!0;for(var i=m.length;i;){for(_=m,m=[];++v<i;)_&&_[v].run();v=-1,i=m.length}_=null,d=!1,a(t)}}function u(t,i){this.fun=t,this.array=i}function c(){}var f,l,h=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:n}catch(t){f=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(t){l=r}}();var _,m=[],d=!1,v=-1;h.nextTick=function(t){var i=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)i[n-1]=arguments[n];m.push(new u(t,i)),1!==m.length||d||e(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,i,n){"use strict";function r(t){return t.clear(),t}function e(t,i){var n=_.size(t),r=(new m.SideColor).getByInnerColor(m.ColorPattern.GRAY),e=new m.BrickDimension(n[0]<<4,n[1]<<4),a=new m.Brick(e,r);return l._3(h.PixelView[0],i,[-870539423,a],new m.Point3D(0,0,0)),i}function a(t,i,n){return new m.Point3D(t<<4,i<<4,n<<4)}function o(t,i){var n=i/3,r=t>>>16&255,e=t>>>8&255,a=255&t;return(((r+((255-r|0)*n|0)|0)<<16)+((e+((255-e|0)*n|0)|0)<<8)|0)+(a+((255-a|0)*n|0)|0)|0}function s(t,i,n){for(var r=i[1],e=i[0],s=0;;){var u=s;{if(!(u<t))return 0;var c=new m.CubeColor(void 0,void 0,void 0,void 0,void 0).getByHorizontalColor(o(m.ColorPattern.BLUE,u)),f=new m.CubeDimension(16,16,16),_=new m.Cube(f,c,1);l._3(h.PixelView[0],n,[748841237,_],a(e,r,u)),s=u+1|0}}}function u(t,i){return f.iteri(function(t,n){return f.iteri(function(n,r){return s(r,[n,t],i)},n)},t),i}function c(t,i){return u(i,e(i,(t.clear(),t)))}var f=n(17),l=n(5),h=n(50),_=n(29),m=n(30);i.size=16,i.max=4,i.clear=r,i.render_stage=e,i.scale=a,i.lighter=o,i.render_stack=s,i.render_pile=u,i.render=c},function(t,i,n){"use strict";function r(t,i){return z.blit(i[0],0,t[0],0,55),t[1]=i[1],0}function e(t,i){for(var n=i.length?i:[0],r=n.length,e=0;e<=54;++e)M.caml_array_set(t[0],e,e);for(var a="x",o=0,s=54+N.max(55,r)|0;o<=s;++o){var u=o%55,c=o%r;a=function(t,i){return E.string(t+i)}(a,M.caml_array_get(n,c)),M.caml_array_set(t[0],u,1073741823&(M.caml_array_get(t[0],u)^function(t){return((F.get(t,0)+(F.get(t,1)<<8)|0)+(F.get(t,2)<<16)|0)+(F.get(t,3)<<24)|0}(a)))}return t[1]=0,0}function a(t){var i=[M.caml_make_vect(55,0),0];return e(i,t),i}function o(){return a(R.caml_sys_random_seed(0))}function s(t){var i=[M.caml_make_vect(55,0),0];return r(i,t),i}function u(t){t[1]=(t[1]+1|0)%55;var i=M.caml_array_get(t[0],t[1]),n=M.caml_array_get(t[0],(t[1]+24|0)%55)+(i^i>>>25&31)|0,r=1073741823&n;return M.caml_array_set(t[0],t[1],r),r}function c(t,i){if(i>1073741823||i<=0)throw[O.invalid_argument,"Random.int"];for(var n=t,r=i;;){var e=u(n),a=e%r;if(!((e-a|0)>(1+(1073741823-r|0)|0)))return a}}function f(t,i){if(i<=0)throw[O.invalid_argument,"Random.int32"];for(var n=t,r=i;;){var e=u(n),a=(1&u(n))<<30,o=e|a,s=o%r;if(!((o-s|0)>(1+(P.max_int-r|0)|0)))return s}}function l(t,i){if(L.le(i,[0,0]))throw[O.invalid_argument,"Random.int64"];for(var n=t,r=i;;){var e=L.of_int32(u(n)),a=L.lsl_(L.of_int32(u(n)),30),o=L.lsl_(L.of_int32(7&u(n)),60),s=L.or_(e,[a[0]|o[0],(a[1]|o[1])>>>0]),c=L.mod_(s,r);if(!L.gt(L.sub(s,c),L.add(L.sub(B.max_int,r),[0,1])))return c}}function h(t){return(u(t)/1073741824+u(t))/1073741824}function _(t,i){return h(t)*i}function m(t){return+(0==(1&u(t)))}function d(){return u(T)}function v(t){return c(T,t)}function g(t){return f(T,t)}function p(t){return k._2(G,T,t)}function x(t){return l(T,t)}function b(t){return h(T)*t}function y(){return m(T)}function w(t){return e(T,t)}function A(t){return e(T,[t])}function D(){return w(R.caml_sys_random_seed(0))}function C(){return s(T)}function S(t){return r(T,t)}var z=n(31),k=n(5),P=n(56),B=n(57),E=n(55),R=n(24),I=n(59),M=n(22),L=n(23),N=n(18),F=n(8),O=n(0),G=32===I.size?f:function(t,i){return 0|l(t,L.of_int32(i))[1]},T=[[987910699,495797812,364182224,414272206,318284740,990407751,383018966,270373319,840823159,24560019,536292337,512266505,189156120,730249596,143776328,51606627,140166561,366354223,1003410265,700563762,981890670,913149062,526082594,1021425055,784300257,667753350,630144451,949649812,48546892,415514493,258888527,511570777,89983870,283659902,308386020,242688715,482270760,865188196,1027664170,207196989,193777847,619708188,671350186,149669678,257044018,87658204,558145612,183450813,28133145,901332182,710253903,510646120,652377910,409934019,801085050],0],H=[a,o,s,u,c,f,G,l,_,m];i.init=A,i.full_init=w,i.self_init=D,i.bits=d,i.$$int=v,i.int32=g,i.nativeint=p,i.int64=x,i.$$float=b,i.bool=y,i.State=H,i.get_state=C,i.set_state=S},function(t,i,n){"use strict";function r(){return[e.$$int(10),e.$$int(10)]}var e=n(48),a=n(47),o=n(29),s=n(30);e.self_init(0);var u=document.getElementById("stage");if(null!==u){var c=new s.Point(200,200),f=new s.PixelView(u,c),l=function(t){var i=o.incr(r(),o.avalanche(t));return a.render(f,i),setTimeout(function(){return l(i)},250),0};l(o.make([10,10]))}i.size=10,i.random_pos=r},function(t,i,n){"use strict";function r(t,i,n){return t.renderObject(i[1],n),0}var e=[],a=[],o=[],s=[],u=[],c=[],f=[],l=[],h=[],_=[r];i.ColorPattern=e,i.SideColor=a,i.CubeColor=o,i.Point=s,i.Point3D=u,i.BrickDimension=c,i.Brick=f,i.CubeDimension=l,i.Cube=h,i.PixelView=_},function(t,i,n){"use strict";function r(t,i){var n=$.caml_create_string(t);return $.caml_fill_string(n,0,t,i),n}function e(t,i){for(var n=$.caml_create_string(t),r=0,e=t-1|0;r<=e;++r)n[r]=G._1(i,r);return n}function a(t){var i=t.length,n=$.caml_create_string(i);return $.caml_blit_bytes(t,0,n,0,i),n}function o(t){return $.bytes_to_string(a(t))}function s(t){return a($.bytes_of_string(t))}function u(t,i,n){if(i<0||n<0||i>(t.length-n|0))throw[Y.invalid_argument,"String.sub / Bytes.sub"];var r=$.caml_create_string(n);return $.caml_blit_bytes(t,i,r,0,n),r}function c(t,i,n){return $.bytes_to_string(u(t,i,n))}function f(t,i,n){var r=(t.length+i|0)+n|0,e=$.caml_create_string(r),a=i<0?[0|-i,0]:[0,i],o=a[1],s=a[0],u=q.min(t.length-s|0,r-o|0);return u>0&&$.caml_blit_bytes(t,s,e,o,u),e}function l(t,i,n,r){if(i<0||n<0||i>(t.length-n|0))throw[Y.invalid_argument,"String.fill / Bytes.fill"];return $.caml_fill_string(t,i,n,r)}function h(t,i,n,r,e){if(e<0||i<0||i>(t.length-e|0)||r<0||r>(n.length-e|0))throw[Y.invalid_argument,"Bytes.blit"];return $.caml_blit_bytes(t,i,n,r,e)}function _(t,i,n,r,e){if(e<0||i<0||i>(t.length-e|0)||r<0||r>(n.length-e|0))throw[Y.invalid_argument,"String.blit / Bytes.blit_string"];return $.caml_blit_string(t,i,n,r,e)}function m(t,i){for(var n=0,r=i.length-1|0;n<=r;++n)G._1(t,i[n]);return 0}function d(t,i){for(var n=0,r=i.length-1|0;n<=r;++n)G._2(t,n,i[n]);return 0}function v(t,i){if(i){var n=i[0],r=[0],e=[0];O.iter(function(t){return r[0]=r[0]+1|0,e[0]=e[0]+t.length|0,0},i);var a=$.caml_create_string(e[0]+H.imul(t.length,r[0]-1|0)|0);$.caml_blit_bytes(n,0,a,0,n.length);var o=[n.length];return O.iter(function(i){return $.caml_blit_bytes(t,0,a,o[0],t.length),o[0]=o[0]+t.length|0,$.caml_blit_bytes(i,0,a,o[0],i.length),o[0]=o[0]+i.length|0,0},i[1]),a}return U}function g(t,i){return t.concat(i)}function p(t){var i=t-9|0;return i>4||i<0?23!==i?0:1:2!==i?1:0}function x(t){for(var i=t.length,n=0;n<i&&p(t[n]);)n=n+1|0;for(var r=i-1|0;r>=n&&p(t[r]);)r=r-1|0;return r>=n?u(t,n,1+(r-n|0)|0):U}function b(t){for(var i=0,n=0,r=t.length-1|0;n<=r;++n){var e,o=t[n];if(o>=32){var s=o-34|0;e=s>58||s<0?s>=93?4:1:s>57||s<1?2:1}else e=o>=11?13!==o?4:2:o>=8?2:4;i=i+e|0}if(i===t.length)return a(t);var u=$.caml_create_string(i);i=0;for(var c=0,f=t.length-1|0;c<=f;++c){var l=t[c],h=0;if(l>=35)92!==l?l>=127?h=1:u[i]=l:h=2;else if(l>=32)l>=34?h=2:u[i]=l;else if(l>=14)h=1;else switch(l){case 8:u[i]=92,i=i+1|0,u[i]=98;break;case 9:u[i]=92,i=i+1|0,u[i]=116;break;case 10:u[i]=92,i=i+1|0,u[i]=110;break;case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 11:case 12:h=1;break;case 13:u[i]=92,i=i+1|0,u[i]=114}switch(h){case 1:u[i]=92,i=i+1|0,u[i]=48+(l/100|0)|0,i=i+1|0,u[i]=48+(l/10|0)%10|0,i=i+1|0,u[i]=48+l%10|0;break;case 2:u[i]=92,i=i+1|0,u[i]=l}i=i+1|0}return u}function y(t,i){var n=i.length;if(n){for(var r=$.caml_create_string(n),e=0,a=n-1|0;e<=a;++e)r[e]=G._1(t,i[e]);return r}return i}function w(t,i){var n=i.length;if(n){for(var r=$.caml_create_string(n),e=0,a=n-1|0;e<=a;++e)r[e]=G._2(t,e,i[e]);return r}return i}function A(t){return y(F.uppercase,t)}function D(t){return y(F.lowercase,t)}function C(t,i){if(i.length){var n=a(i);return n[0]=G._1(t,i[0]),n}return i}function S(t){return C(F.uppercase,t)}function z(t){return C(F.lowercase,t)}function k(t,i,n,r){for(;;){var e=n;if(e>=i)throw Y.not_found;if(t[e]===r)return e;n=e+1|0}}function P(t,i){return k(t,t.length,0,i)}function B(t,i,n){var r=t.length;if(i<0||i>r)throw[Y.invalid_argument,"String.index_from / Bytes.index_from"];return k(t,r,i,n)}function E(t,i,n){for(;;){var r=i;if(r<0)throw Y.not_found;if(t[r]===n)return r;i=r-1|0}}function R(t,i){return E(t,t.length-1|0,i)}function I(t,i,n){if(i<-1||i>=t.length)throw[Y.invalid_argument,"String.rindex_from / Bytes.rindex_from"];return E(t,i,n)}function M(t,i,n){var r=t.length;if(i<0||i>r)throw[Y.invalid_argument,"String.contains_from / Bytes.contains_from"];try{return k(t,r,i,n),1}catch(t){if(t===Y.not_found)return 0;throw t}}function L(t,i){return M(t,0,i)}function N(t,i,n){if(i<0||i>=t.length)throw[Y.invalid_argument,"String.rcontains_from / Bytes.rcontains_from"];try{return E(t,i,n),1}catch(t){if(t===Y.not_found)return 0;throw t}}var F=n(35),O=n(17),G=n(5),T=n(7),H=n(10),q=n(18),$=n(8),Y=n(0),U=[],j=T.caml_compare,V=$.bytes_to_string,X=$.bytes_of_string;i.make=r,i.init=e,i.empty=U,i.copy=a,i.of_string=s,i.to_string=o,i.sub=u,i.sub_string=c,i.extend=f,i.fill=l,i.blit=h,i.blit_string=_,i.concat=v,i.cat=g,i.iter=m,i.iteri=d,i.map=y,i.mapi=w,i.trim=x,i.escaped=b,i.index=P,i.rindex=R,i.index_from=B,i.rindex_from=I,i.contains=L,i.contains_from=M,i.rcontains_from=N,i.uppercase=A,i.lowercase=D,i.capitalize=S,i.uncapitalize=z,i.compare=j,i.unsafe_to_string=V,i.unsafe_of_string=X},function(t,i,n){"use strict";(function(t){function r(t,i){return t+i}function e(){throw[_.failure,"caml_ml_open_descriptor_in not implemented"]}function a(){throw[_.failure,"caml_ml_open_descriptor_out not implemented"]}function o(t){return""!==t[0]?(h._2(t[1],t,t[0]),t[0]="",0):0}function s(i,n,r,e){var a=0===r&&e===n.length?n:n.slice(r,e);if(void 0!==t&&t.stdout&&t.stdout.write&&i===m)return t.stdout.write(a);var s=a.lastIndexOf("\n");return s<0?(i[0]=i[0]+a,0):(i[0]=i[0]+a.slice(0,s+1|0),o(i),i[0]=i[0]+a.slice(s+1|0),0)}function u(t,i){return s(t,String.fromCharCode(i),0,1)}function c(t,i,n,r){throw[_.failure,"caml_ml_input ic not implemented"]}function f(){throw[_.failure,"caml_ml_input_char not implemnted"]}function l(){return[m,[d,0]]}var h=n(5),_=n(0),m=["",function(i,n){var r=n.length-1|0;return void 0!==t&&t.stdout&&t.stdout.write?t.stdout.write(n):"\n"===n[r]?(console.log(n.slice(0,r)),0):(console.log(n),0)}],d=["",function(t,i){var n=i.length-1|0;return"\n"===i[n]?(console.log(i.slice(0,n)),0):(console.log(i),0)}],v=function(i){return void 0!==t&&t.stdout&&(t.stdout.write(i),!0)};i.$caret=r,i.stdin=void 0,i.stdout=m,i.stderr=d,i.caml_ml_open_descriptor_in=e,i.caml_ml_open_descriptor_out=a,i.caml_ml_flush=o,i.node_std_output=v,i.caml_ml_output=s,i.caml_ml_output_char=u,i.caml_ml_input=c,i.caml_ml_input_char=f,i.caml_ml_out_channels_list=l}).call(i,n(46))},function(t,i,n){"use strict";function r(t,i,n,r,e,a){var o=((i+t|0)+r|0)+a|0;return(o<<e|o>>>(32-e|0)|0)+n|0}function e(t,i,n,e,a,o,s){return r(i&n|(-1^i)&e,t,i,a,o,s)}function a(t,i,n,e,a,o,s){return r(i&e|n&(-1^e),t,i,a,o,s)}function o(t,i,n,e,a,o,s){return r(i^n^e,t,i,a,o,s)}function s(t,i,n,e,a,o,s){return r(n^(i|-1^e),t,i,a,o,s)}function u(t,i){var n=t[0],r=t[1],u=t[2],c=t[3];return n=e(n,r,u,c,i[0],7,-680876936),c=e(c,n,r,u,i[1],12,-389564586),u=e(u,c,n,r,i[2],17,606105819),r=e(r,u,c,n,i[3],22,-1044525330),n=e(n,r,u,c,i[4],7,-176418897),c=e(c,n,r,u,i[5],12,1200080426),u=e(u,c,n,r,i[6],17,-1473231341),r=e(r,u,c,n,i[7],22,-45705983),n=e(n,r,u,c,i[8],7,1770035416),c=e(c,n,r,u,i[9],12,-1958414417),u=e(u,c,n,r,i[10],17,-42063),r=e(r,u,c,n,i[11],22,-1990404162),n=e(n,r,u,c,i[12],7,1804603682),c=e(c,n,r,u,i[13],12,-40341101),u=e(u,c,n,r,i[14],17,-1502002290),r=e(r,u,c,n,i[15],22,1236535329),n=a(n,r,u,c,i[1],5,-165796510),c=a(c,n,r,u,i[6],9,-1069501632),u=a(u,c,n,r,i[11],14,643717713),r=a(r,u,c,n,i[0],20,-373897302),n=a(n,r,u,c,i[5],5,-701558691),c=a(c,n,r,u,i[10],9,38016083),u=a(u,c,n,r,i[15],14,-660478335),r=a(r,u,c,n,i[4],20,-405537848),n=a(n,r,u,c,i[9],5,568446438),c=a(c,n,r,u,i[14],9,-1019803690),u=a(u,c,n,r,i[3],14,-187363961),r=a(r,u,c,n,i[8],20,1163531501),n=a(n,r,u,c,i[13],5,-1444681467),c=a(c,n,r,u,i[2],9,-51403784),u=a(u,c,n,r,i[7],14,1735328473),r=a(r,u,c,n,i[12],20,-1926607734),n=o(n,r,u,c,i[5],4,-378558),c=o(c,n,r,u,i[8],11,-2022574463),u=o(u,c,n,r,i[11],16,1839030562),r=o(r,u,c,n,i[14],23,-35309556),n=o(n,r,u,c,i[1],4,-1530992060),c=o(c,n,r,u,i[4],11,1272893353),u=o(u,c,n,r,i[7],16,-155497632),r=o(r,u,c,n,i[10],23,-1094730640),n=o(n,r,u,c,i[13],4,681279174),c=o(c,n,r,u,i[0],11,-358537222),u=o(u,c,n,r,i[3],16,-722521979),r=o(r,u,c,n,i[6],23,76029189),n=o(n,r,u,c,i[9],4,-640364487),c=o(c,n,r,u,i[12],11,-421815835),u=o(u,c,n,r,i[15],16,530742520),r=o(r,u,c,n,i[2],23,-995338651),n=s(n,r,u,c,i[0],6,-198630844),c=s(c,n,r,u,i[7],10,1126891415),u=s(u,c,n,r,i[14],15,-1416354905),r=s(r,u,c,n,i[5],21,-57434055),n=s(n,r,u,c,i[12],6,1700485571),c=s(c,n,r,u,i[3],10,-1894986606),u=s(u,c,n,r,i[10],15,-1051523),r=s(r,u,c,n,i[1],21,-2054922799),n=s(n,r,u,c,i[8],6,1873313359),c=s(c,n,r,u,i[15],10,-30611744),u=s(u,c,n,r,i[6],15,-1560198380),r=s(r,u,c,n,i[13],21,1309151649),n=s(n,r,u,c,i[4],6,-145523070),c=s(c,n,r,u,i[11],10,-1120210379),u=s(u,c,n,r,i[2],15,718787259),r=s(r,u,c,n,i[9],21,-343485551),t[0]=n+t[0]|0,t[1]=r+t[1]|0,t[2]=u+t[2]|0,t[3]=c+t[3]|0,0}function c(t,i,n){var r=t.slice(i,n),e=r.length;f[0]=1732584193,f[1]=-271733879,f[2]=-1732584194,f[3]=271733878;for(var a=0;a<=15;++a)l[a]=0;for(var o=e/64|0,s=1;s<=o;++s){for(var c=0;c<=15;++c){var h=((s<<6)-64|0)+(c<<2)|0;l[c]=((r.charCodeAt(h)+(r.charCodeAt(h+1|0)<<8)|0)+(r.charCodeAt(h+2|0)<<16)|0)+(r.charCodeAt(h+3|0)<<24)|0}u(f,l)}for(var _=r.slice(o<<6),m=0;m<=15;++m)l[m]=0;for(var d=_.length-1|0,v=0;v<=d;++v)l[v/4|0]=l[v/4|0]|_.charCodeAt(v)<<(v%4<<3);var g=d+1|0;if(l[g/4|0]=l[g/4|0]|128<<(g%4<<3),g>55){u(f,l);for(var p=0;p<=15;++p)l[p]=0}return l[14]=e<<3,u(f,l),String.fromCharCode(255&f[0],f[0]>>8&255,f[0]>>16&255,f[0]>>24&255,255&f[1],f[1]>>8&255,f[1]>>16&255,f[1]>>24&255,255&f[2],f[2]>>8&255,f[2]>>16&255,f[2]>>24&255,255&f[3],f[3]>>8&255,f[3]>>16&255,f[3]>>24&255)}var f=[1732584193,-271733879,-1732584194,271733878],l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];i.caml_md5_string=c},function(t,i,n){"use strict";function r(t){if("number"==typeof t)return 0;switch(0|t.tag){case 0:return o.__(0,[r(t[0])]);case 1:return o.__(1,[r(t[0])]);case 2:return o.__(2,[r(t[0])]);case 3:return o.__(3,[r(t[0])]);case 4:return o.__(4,[r(t[0])]);case 5:return o.__(5,[r(t[0])]);case 6:return o.__(6,[r(t[0])]);case 7:return o.__(7,[r(t[0])]);case 8:return o.__(8,[t[0],r(t[1])]);case 9:var i=t[0];return o.__(9,[i,i,r(t[2])]);case 10:return o.__(10,[r(t[0])]);case 11:return o.__(11,[r(t[0])]);case 12:return o.__(12,[r(t[0])]);case 13:return o.__(13,[r(t[0])]);case 14:return o.__(14,[r(t[0])])}}function e(t,i){if("number"==typeof t)return i;switch(0|t.tag){case 0:return o.__(0,[e(t[0],i)]);case 1:return o.__(1,[e(t[0],i)]);case 2:return o.__(2,[e(t[0],i)]);case 3:return o.__(3,[e(t[0],i)]);case 4:return o.__(4,[e(t[0],i)]);case 5:return o.__(5,[e(t[0],i)]);case 6:return o.__(6,[e(t[0],i)]);case 7:return o.__(7,[e(t[0],i)]);case 8:return o.__(8,[t[0],e(t[1],i)]);case 9:return o.__(9,[t[0],t[1],e(t[2],i)]);case 10:return o.__(10,[e(t[0],i)]);case 11:return o.__(11,[e(t[0],i)]);case 12:return o.__(12,[e(t[0],i)]);case 13:return o.__(13,[e(t[0],i)]);case 14:return o.__(14,[e(t[0],i)])}}function a(t,i){if("number"==typeof t)return i;switch(0|t.tag){case 0:return o.__(0,[a(t[0],i)]);case 1:return o.__(1,[a(t[0],i)]);case 2:return o.__(2,[t[0],a(t[1],i)]);case 3:return o.__(3,[t[0],a(t[1],i)]);case 4:return o.__(4,[t[0],t[1],t[2],a(t[3],i)]);case 5:return o.__(5,[t[0],t[1],t[2],a(t[3],i)]);case 6:return o.__(6,[t[0],t[1],t[2],a(t[3],i)]);case 7:return o.__(7,[t[0],t[1],t[2],a(t[3],i)]);case 8:return o.__(8,[t[0],t[1],t[2],a(t[3],i)]);case 9:return o.__(9,[a(t[0],i)]);case 10:return o.__(10,[a(t[0],i)]);case 11:return o.__(11,[t[0],a(t[1],i)]);case 12:return o.__(12,[t[0],a(t[1],i)]);case 13:return o.__(13,[t[0],t[1],a(t[2],i)]);case 14:return o.__(14,[t[0],t[1],a(t[2],i)]);case 15:return o.__(15,[a(t[0],i)]);case 16:return o.__(16,[a(t[0],i)]);case 17:return o.__(17,[t[0],a(t[1],i)]);case 18:return o.__(18,[t[0],a(t[1],i)]);case 19:return o.__(19,[a(t[0],i)]);case 20:return o.__(20,[t[0],t[1],a(t[2],i)]);case 21:return o.__(21,[t[0],a(t[1],i)]);case 22:return o.__(22,[a(t[0],i)]);case 23:return o.__(23,[t[0],a(t[1],i)]);case 24:return o.__(24,[t[0],t[1],a(t[2],i)])}}var o=n(32);i.concat_fmtty=e,i.erase_rel=r,i.concat_fmt=a},function(t,i,n){"use strict";function r(t){return m.caml_md5_string(t,0,t.length)}function e(t){return r(v.bytes_to_string(t))}function a(t,i,n){if(i<0||n<0||i>(t.length-n|0))throw[p.invalid_argument,"Digest.substring"];return m.caml_md5_string(t,i,n)}function o(t,i,n){return a(v.bytes_to_string(t),i,n)}function s(t){d.open_in_bin(t);var i,n=0;try{i=g.not_implemented("caml_md5_chan not implemented by bucklescript yet\n"),n=1}catch(t){throw g.not_implemented("caml_ml_close_channel not implemented by bucklescript yet\n"),t}if(1===n)return g.not_implemented("caml_ml_close_channel not implemented by bucklescript yet\n"),i}function u(t){return d.really_input_string(t,16)}function c(t){return t+(t<10?48:87)|0}function f(t){for(var i=new Array(32),n=0;n<=15;++n){var r=v.get(t,n);i[n<<1]=c(r>>>4),i[1+(n<<1)|0]=c(15&r)}return v.bytes_to_string(i)}function l(t){if(32!==t.length)throw[p.invalid_argument,"Digest.from_hex"];for(var i=function(t){if(t>=65){if(t>=97){if(t>=103)throw[p.invalid_argument,"Digest.from_hex"];return 10+(t-97|0)|0}if(t>=71)throw[p.invalid_argument,"Digest.from_hex"];return 10+(t-65|0)|0}if(t>57||t<48)throw[p.invalid_argument,"Digest.from_hex"];return t-48|0},n=new Array(16),r=0;r<=15;++r)n[r]=h.chr(function(n){return(i(v.get(t,n))<<4)+i(v.get(t,n+1|0))|0}(r<<1));return v.bytes_to_string(n)}var h=n(35),_=n(60),m=n(53),d=n(18),v=n(8),g=n(33),p=n(0),x=d.output_string,b=_.compare;i.compare=b,i.string=r,i.bytes=e,i.substring=a,i.subbytes=o,i.file=s,i.output=x,i.input=u,i.to_hex=f,i.from_hex=l},function(t,i,n){"use strict";function r(t){return t+1|0}function e(t){return t-1|0}function a(t){return t>=0?t:0|-t}function o(t){return-1^t}function s(t){return c.caml_int32_format("%d",t)}var u=n(7),c=n(16),f=u.caml_int32_compare;i.zero=0,i.one=1,i.minus_one=-1,i.succ=r,i.pred=e,i.abs=a,i.max_int=2147483647,i.min_int=-2147483648,i.lognot=o,i.to_string=s,i.compare=f},function(t,i,n){"use strict";function r(t){return u.add(t,[0,1])}function e(t){return u.sub(t,[0,1])}function a(t){return u.ge(t,[0,0])?t:u.neg(t)}function o(t){return u.xor(t,[-1,4294967295])}function s(t){return c.caml_int64_format("%d",t)}var u=n(23),c=n(16),f=u.compare,l=[0,0],h=[0,1],_=[-1,4294967295],m=[2147483647,4294967295],d=[-2147483648,0];i.zero=l,i.one=h,i.minus_one=_,i.succ=r,i.pred=e,i.abs=a,i.max_int=m,i.min_int=d,i.lognot=o,i.to_string=s,i.compare=f},function(t,i,n){"use strict";function r(t){return l.isCamlExceptionOrOpenVariant(t)?t:[h,t]}function e(t){throw new Error(t)}function a(t){throw new EvalError(t)}function o(t){throw new RangeError(t)}function s(t){throw new RerferenceError(t)}function u(t){throw new SyntaxError(t)}function c(t){throw new TypeError(t)}function f(t){throw new URIError(t)}var l=n(15),h=l.create("Js_exn.Error");i.$$Error=h,i.internalToOCamlException=r,i.raiseError=e,i.raiseEvalError=a,i.raiseRangeError=o,i.raiseReferenceError=s,i.raiseSyntaxError=u,i.raiseTypeError=c,i.raiseUriError=f},function(t,i,n){"use strict";function r(t){return t+1}function e(t){return t-1}function a(t){return t>=0?t:-t}function o(t){return-1^t}function s(t){return f.caml_nativeint_format("%d",t)}var u=n(61),c=n(7),f=n(16),l=c.caml_nativeint_compare,h=u.word_size;i.zero=0,i.one=1,i.minus_one=-1,i.succ=r,i.pred=e,i.abs=a,i.size=h,i.max_int=9007199254740991,i.min_int=-9007199254740991,i.lognot=o,i.to_string=s,i.compare=l},function(t,i,n){"use strict";function r(t,i){return P.bytes_to_string(z.make(t,i))}function e(t,i){return P.bytes_to_string(z.init(t,i))}function a(t){return P.bytes_to_string(z.copy(P.bytes_of_string(t)))}function o(t,i,n){return P.bytes_to_string(z.sub(P.bytes_of_string(t),i,n))}function s(t,i){if(i){var n=i[0],r=[0],e=[0];S.iter(function(t){return r[0]=r[0]+1|0,e[0]=e[0]+t.length|0,0},i);var a=P.caml_create_string(e[0]+k.imul(t.length,r[0]-1|0)|0);P.caml_blit_string(n,0,a,0,n.length);var o=[n.length];return S.iter(function(i){return P.caml_blit_string(t,0,a,o[0],t.length),o[0]=o[0]+t.length|0,P.caml_blit_string(i,0,a,o[0],i.length),o[0]=o[0]+i.length|0,0},i[1]),P.bytes_to_string(a)}return""}function u(t,i){return z.iter(t,P.bytes_of_string(i))}function c(t,i){return z.iteri(t,P.bytes_of_string(i))}function f(t,i){return P.bytes_to_string(z.map(t,P.bytes_of_string(i)))}function l(t,i){return P.bytes_to_string(z.mapi(t,P.bytes_of_string(i)))}function h(t){var i=t-9|0;return i>4||i<0?23!==i?0:1:2!==i?1:0}function _(t){return""===t||!h(t.charCodeAt(0))&&!h(t.charCodeAt(t.length-1|0))?t:P.bytes_to_string(z.trim(P.bytes_of_string(t)))}function m(t){return function(i){for(;;){var n=i;if(n>=t.length)return 0;var r=t.charCodeAt(n);{if(!(r>=32))return 1;var e=r-34|0;if(e>58||e<0){if(e>=93)return 1;i=n+1|0;continue}if(e>57||e<1)return 1;i=n+1|0}}}(0)?P.bytes_to_string(z.escaped(P.bytes_of_string(t))):t}function d(t,i){return z.index(P.bytes_of_string(t),i)}function v(t,i){return z.rindex(P.bytes_of_string(t),i)}function g(t,i,n){return z.index_from(P.bytes_of_string(t),i,n)}function p(t,i,n){return z.rindex_from(P.bytes_of_string(t),i,n)}function x(t,i){return z.contains(P.bytes_of_string(t),i)}function b(t,i,n){return z.contains_from(P.bytes_of_string(t),i,n)}function y(t,i,n){return z.rcontains_from(P.bytes_of_string(t),i,n)}function w(t){return P.bytes_to_string(z.uppercase(P.bytes_of_string(t)))}function A(t){return P.bytes_to_string(z.lowercase(P.bytes_of_string(t)))}function D(t){return P.bytes_to_string(z.capitalize(P.bytes_of_string(t)))}function C(t){return P.bytes_to_string(z.uncapitalize(P.bytes_of_string(t)))}var S=n(17),z=n(51),k=n(10),P=n(8),B=P.caml_string_compare,E=z.fill,R=z.blit_string;i.make=r,i.init=e,i.copy=a,i.sub=o,i.fill=E,i.blit=R,i.concat=s,i.iter=u,i.iteri=c,i.map=f,i.mapi=l,i.trim=_,i.escaped=m,i.index=d,i.rindex=v,i.index_from=g,i.rindex_from=p,i.contains=x,i.contains_from=b,i.rcontains_from=y,i.uppercase=w,i.lowercase=A,i.capitalize=D,i.uncapitalize=C,i.compare=B},function(t,i,n){"use strict";function r(t,i){return 0}function e(){return 0}var a=n(24),o=n(15),s=a.caml_sys_get_argv(0),u=[0],c=o.create("Sys.Break"),f=s[1],l=s[0];i.argv=f,i.executable_name=l,i.interactive=u,i.os_type="Unix",i.unix=1,i.win32=0,i.cygwin=0,i.word_size=32,i.big_endian=0,i.is_js=1,i.max_string_length=2147483647,i.max_array_length=2147483647,i.set_signal=r,i.sigabrt=-1,i.sigalrm=-2,i.sigfpe=-3,i.sighup=-4,i.sigill=-5,i.sigint=-6,i.sigkill=-7,i.sigpipe=-8,i.sigquit=-9,i.sigsegv=-10,i.sigterm=-11,i.sigusr1=-12,i.sigusr2=-13,i.sigchld=-14,i.sigcont=-15,i.sigstop=-16,i.sigtstp=-17,i.sigttin=-18,i.sigttou=-19,i.sigvtalrm=-20,i.sigprof=-21,i.Break=c,i.catch_break=e,i.ocaml_version="4.02.3+dev1-2015-07-10"},function(t,i,n){"use strict";var r,e,a=n(26),o=n(14);r=function(t,i){this.initialize(t,i)},e=r.prototype,e.canvas=null,e.context=null,e.point=null,e.initialize=function(t,i){if(!t)throw new Error("Canvas is not defined");try{t instanceof jQuery&&(t=t.get(0))}catch(t){}return this.canvas=t,this.context=this.canvas.getContext("2d"),this.context.mozImageSmoothingEnabled=!1,this.context.msImageSmoothingEnabled=!1,this.context.imageSmoothingEnabled=!1,this.point=i||new a(0,0),this},e.renderObject=function(t,i){var n=new o(t,i);this.context.drawImage(n.canvas,this.point.x+n.x,this.point.y+n.y)},e.clear=function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},e.toString=function(){return"[PixelView]"},t.exports=r},function(t,i,n){"use strict";var r,e,a=n(38),o=n(25),s=n(20),u=n(21),c=n(36),f=n(6),l=n(2),h=n(14),_=n(1),m=n(3),d=n(44),v=n(27),g=n(28);r=function(t,i,n,r){this.initialize(t,i,n,r)},e=r.prototype=new m,e.initialize=function(t,i,n,r){return this.initRender(t,i,n,r),this.initRectangle(),this.initBitmapData(),this.build(),this.renderBitmapDataForCanvas(),this},e.initRender=function(t,i,n,r){this.useDefaultCanvas=r||!1,this.border=n||void 0===n,this.dimension=void 0===t?new a:t,this.color=void 0===i?new c:i},e.initRectangle=function(){this.w=this.dimension.xAxis+this.dimension.yAxis,this.h=this.dimension.zAxis+(this.dimension.xAxis+this.dimension.yAxis)/2,this.w-=2,this.h-=1,this.matrix=new l,this.matrix.tx=2-this.dimension.yAxis,this.matrix.ty=-this.dimension.zAxis},e.initBitmapData=function(){this.bitmapData=new _(this.w,this.h,this.useDefaultCanvas)},e.renderBitmapDataForCanvas=function(){this.canvas=this.bitmapData.canvas},e.build=function(){var t,i,n,r,e,a,c,l,m,p,x,b,y;if(t=new d(new o(this.dimension.xAxis,this.dimension.yAxis),new f(this.color.border,this.color.horizontal),this.border),i=new v(new s(this.dimension.xAxis,this.dimension.zAxis),new f(this.color.border,this.color.left),this.border),n=new g(new u(this.dimension.yAxis,this.dimension.zAxis),new f(this.color.border,this.color.right),this.border),r=new h(t),e=new h(i),a=new h(n),c=this.bitmapData.context,c.drawImage(r.canvas,r.x+this.dimension.yAxis-2,r.y),c.drawImage(e.canvas,e.x,e.y+this.dimension.zAxis+this.dimension.yAxis/2-1),c.drawImage(a.canvas,a.x+this.w-2,e.y+this.dimension.zAxis+this.dimension.xAxis/2-1),l=new _(this.w,this.h),this.border){for(m=this.dimension.xAxis-2,p=(this.dimension.xAxis+this.dimension.yAxis)/2-2,x=0;x<this.dimension.xAxis-2;x+=1)l.setPixel(m+1-x,p-Math.floor(x/2),this.color.borderHighlight);for(b=0;b<this.dimension.yAxis-2;b+=1)l.setPixel(m+b,p-Math.floor(b/2),this.color.borderHighlight);for(y=0;y<this.dimension.zAxis;y+=1)l.setPixel(m,p+y,this.color.borderHighlight)}else for(x=0;x<this.dimension.zAxis;x+=1)l.setPixel(this.dimension.xAxis-2,(this.dimension.xAxis+this.dimension.yAxis)/2-1+x,this.color.left);l.context.putImageData(l.imageData,0,0),c.drawImage(l.canvas,0,0)},e.toString=function(){return"[Cube]"},t.exports=r},function(t,i,n){"use strict";var r,e,a=n(39),o=n(19),s=n(2),u=n(1),c=n(3);r=function(t,i,n){this.initialize(t,i,n)},e=r.prototype=new c,e.initialize=function(t,i,n){return this.initRender(t,i,n),this.initRectangle(),this.initBitmapData(),this.build(),this.renderBitmapDataForCanvas(),this},e.initRender=function(t,i,n){this.useDefaultCanvas=n||!1,this.dimension=void 0===t?new a:t,this.color=void 0===i?new o:i},e.initRectangle=function(){this.w=this.dimension.xAxis,this.h=this.dimension.xAxis/2,this.matrix=new s,this.matrix.tx=0,this.matrix.ty=0},e.initBitmapData=function(){this.bitmapData=new u(this.w,this.h,this.useDefaultCanvas)},e.renderBitmapDataForCanvas=function(){this.bitmapData.context.putImageData(this.bitmapData.imageData,0,0),this.canvas=this.bitmapData.canvas},e.build=function(){var t,i,n,r;for(t=0,i=0,r=this.color.border,n=0;n<this.dimension.xAxis;n+=1)this.bitmapData.setPixel(t+n,i+Math.floor(n/2),r)},e.toString=function(){return"[LineX]"},t.exports=r},function(t,i,n){"use strict";var r,e,a=n(40),o=n(19),s=n(2),u=n(1),c=n(3);r=function(t,i,n){this.initialize(t,i,n)},e=r.prototype=new c,e.initialize=function(t,i,n){return this.initRender(t,i,n),this.initRectangle(),this.initBitmapData(),this.build(),this.renderBitmapDataForCanvas(),this},e.initRender=function(t,i,n){this.useDefaultCanvas=n||!1,this.dimension=void 0===t?new a:t,this.color=void 0===i?new o:i},e.initRectangle=function(){this.w=this.dimension.yAxis,this.h=this.dimension.yAxis/2,this.matrix=new s,this.matrix.tx=2-this.dimension.yAxis,this.matrix.ty=0},e.initBitmapData=function(){this.bitmapData=new u(this.w,this.h,this.useDefaultCanvas)},e.renderBitmapDataForCanvas=function(){this.bitmapData.context.putImageData(this.bitmapData.imageData,0,0),this.canvas=this.bitmapData.canvas},e.build=function(){var t,i,n,r;for(t=this.dimension.yAxis-1,i=0,r=this.color.border,n=0;n<this.dimension.yAxis;n+=1)console.log(n),this.bitmapData.setPixel(t-n,i+Math.floor(n/2),r)},e.toString=function(){return"[LineY]"},t.exports=r},function(t,i,n){"use strict";var r,e,a=n(41),o=n(19),s=n(2),u=n(1),c=n(3);r=function(t,i,n){this.initialize(t,i,n)},e=r.prototype=new c,e.initialize=function(t,i,n){return this.initRender(t,i,n),this.initRectangle(),this.initBitmapData(),this.build(),this.renderBitmapDataForCanvas(),this},e.initRender=function(t,i,n){this.useDefaultCanvas=n||!1,this.dimension=void 0===t?new a:t,this.color=void 0===i?new o:i},e.initRectangle=function(){this.w=1,this.h=this.dimension.zAxis,this.matrix=new s,this.matrix.tx=0,this.matrix.ty=1-this.dimension.zAxis},e.initBitmapData=function(){this.bitmapData=new u(this.w,this.h,this.useDefaultCanvas)},e.renderBitmapDataForCanvas=function(){this.bitmapData.context.putImageData(this.bitmapData.imageData,0,0),this.canvas=this.bitmapData.canvas},e.build=function(){var t,i,n,r;for(t=0,i=0,r=this.color.border,n=0;n<this.dimension.zAxis;n+=1)this.bitmapData.setPixel(t,i+n,r)},e.toString=function(){return"[LineZ]"},t.exports=r},function(t,i,n){"use strict";var r,e,a=n(42),o=n(37),s=n(2),u=n(1),c=n(3);r=function(t,i,n,r){this.initialize(t,i,n,r)},e=r.prototype=new c,e.hSize=null,e.hOffset=null,e.initialize=function(t,i,n,r){return this.initRender(t,i,n,r),this.initRectangle(),this.initBitmapData(),this.build(),this.renderBitmapDataForCanvas(),this},e.initRender=function(t,i,n,r){this.useDefaultCanvas=r||!1,this.border=n||void 0===n,this.dimension=void 0===t?new a:t,this.color=void 0===i?new o:i,this.hSize=this.dimension.tall?2*this.dimension.xAxis:this.dimension.xAxis,this.hOffset=this.dimension.tall?-3:-2},e.initRectangle=function(){this.w=this.dimension.xAxis+this.dimension.yAxis,this.h=this.hSize+this.dimension.xAxis/2,this.w-=2,this.h+=this.hOffset,this.matrix=new s,this.matrix.tx=2-this.dimension.xAxis,this.matrix.ty=-this.hSize/2+2-(this.dimension.tall?this.dimension.xAxis/2:1)},e.initBitmapData=function(){this.bitmapData=new u(this.w,this.h,this.useDefaultCanvas)},e.renderBitmapDataForCanvas=function(){this.bitmapData.context.putImageData(this.bitmapData.imageData,0,0),this.canvas=this.bitmapData.canvas},e.build=function(){var t,i,n,r,e,a,o,s,u,c;for(t=this.border?this.color.border:this.color.left,i=this.border?this.color.border:this.color.right,n=this.border?this.color.borderHighlight:t,a=0;a<this.hSize+this.dimension.xAxis/2-4;a+=1)this.bitmapData.setPixel(this.dimension.xAxis-2,a+3+this.hOffset,n);for(r=0;r<this.dimension.xAxis;r+=1)this.bitmapData.setPixel(r,this.hSize+Math.floor(r/2)+this.hOffset,t);for(e=0;e<this.dimension.xAxis;e+=1)this.bitmapData.setPixel(e+this.dimension.xAxis-2,this.hSize+this.dimension.xAxis/2-Math.floor(e/2)-1+this.hOffset,i);if(this.dimension.tall){for(u=0;u<this.hSize-2;u+=1)this.bitmapData.setPixel(Math.floor(u/2),this.hSize-u+this.hOffset,t);for(c=2;c<this.hSize;c+=1)this.bitmapData.setPixel(Math.floor(c/2)+this.dimension.xAxis-2,c+1+this.hOffset,i)}else{for(o=0;o<this.hSize;o+=1)this.bitmapData.setPixel(o,this.hSize-o+this.hOffset,t);for(s=0;s<this.hSize;s+=1)this.bitmapData.setPixel(s+this.hSize-2,s+1+this.hOffset,i)}this.border||this.bitmapData.setPixel(this.dimension.xAxis-2,this.hSize+this.dimension.xAxis/2-1+this.hOffset,t),this.bitmapData.floodFill(this.dimension.xAxis-1,this.hSize+Math.floor((this.dimension.xAxis-1)/2)+this.hOffset-1,this.color.right),this.bitmapData.floodFill(this.dimension.xAxis-3,this.hSize+Math.floor((this.dimension.xAxis-1)/2)+this.hOffset-2,this.color.left)},e.toString=function(){return"[Pyramid]"},t.exports=r},function(t,i,n){"use strict";var r,e,a=n(13),o=n(12),s=n(2),u=n(1),c=n(3);r=function(t,i,n,r){this.initialize(t,i,n,r)},e=r.prototype=new c,e.initialize=function(t,i,n,r){return this.initRender(t,i,n,r),this.initRectangle(),this.initBitmapData(),this.build(),this.renderBitmapDataForCanvas(),this},e.initRender=function(t,i,n,r){this.useDefaultCanvas=r||!1,this.border=n||void 0===n,this.dimension=void 0===t?new a:t,this.color=void 0===i?new o:i},e.initRectangle=function(){this.w=this.dimension.xAxis+this.dimension.yAxis,this.h=2*this.dimension.xAxis+this.dimension.yAxis/2,this.w-=2,this.h-=3,this.matrix=new s,this.matrix.tx=-(this.dimension.yAxis-2),this.matrix.ty=-(3*this.dimension.xAxis/2-2)},e.initBitmapData=function(){this.bitmapData=new u(this.w,this.h,this.useDefaultCanvas)},e.renderBitmapDataForCanvas=function(){this.bitmapData.context.putImageData(this.bitmapData.imageData,0,0),this.canvas=this.bitmapData.canvas},e.build=function(){var t,i,n,r,e,a,o;for(t=this.border?this.color.border:this.color.left,i=this.border?this.color.border:this.color.rightSlope,r=0;r<this.dimension.yAxis;r+=1)this.bitmapData.setPixel(r,this.dimension.yAxis/2-Math.floor(r/2)-1,i),this.bitmapData.setPixel(r+this.dimension.xAxis-2,this.h-Math.floor(r/2)-1,i);for(n=0;n<this.dimension.xAxis;n+=1)this.bitmapData.setPixel(n,this.h-this.dimension.xAxis/2+Math.floor(n/2),t);for(e=this.dimension.yAxis/2-1;e<this.h-this.dimension.xAxis/2;e+=1)this.bitmapData.setPixel(0,e,t);for(a=0;a<2*this.dimension.xAxis-2;a+=1)this.bitmapData.setPixel(this.dimension.yAxis-1+Math.floor(a/2),a,i),this.bitmapData.setPixel(1+Math.floor(a/2),this.dimension.yAxis/2+a-1,i);if(this.bitmapData.floodFill(this.dimension.yAxis-2,1,this.color.rightSlope),this.bitmapData.floodFill(this.dimension.xAxis-3,this.h-3,this.color.left),this.bitmapData.setPixel(this.dimension.xAxis-2,this.h-2,this.color.left),this.border)for(o=1;o<2*this.dimension.xAxis-3;o+=1)this.bitmapData.setPixel(1+Math.floor(o/2),this.dimension.yAxis/2+o-1,this.color.borderHighlight)},e.toString=function(){return"[SlopeEast]"},t.exports=r},function(t,i,n){"use strict";var r,e,a=n(13),o=n(12),s=n(2),u=n(1),c=n(3),f=n(27),l=n(20),h=n(6),_=n(14);r=function(t,i,n,r){this.initialize(t,i,n,r)},e=r.prototype=new c,e.initialize=function(t,i,n,r){return this.initRender(t,i,n,r),this.initRectangle(),this.initBitmapData(),this.build(),this.renderBitmapDataForCanvas(),this},e.initRender=function(t,i,n,r){this.useDefaultCanvas=r||!1,this.border=n||void 0===n,this.dimension=void 0===t?new a:t,this.color=void 0===i?new o:i},e.initRectangle=function(){this.w=this.dimension.xAxis+this.dimension.yAxis,this.h=3*this.dimension.yAxis/2+this.dimension.xAxis/2,this.w-=2,this.h-=3,this.matrix=new s,this.matrix.tx=-(this.dimension.yAxis-2),this.matrix.ty=-(this.dimension.yAxis-2)},e.initBitmapData=function(){this.bitmapData=new u(this.w,this.h,this.useDefaultCanvas)},e.renderBitmapDataForCanvas=function(){this.canvas=this.bitmapData.canvas},e.build=function(){var t,i,n,r,e,a,o,s,c,m;for(t=this.border?this.color.border:this.color.left,i=this.border?this.color.border:this.color.right,n=this.border?this.color.borderHighlight:this.color.left,r=new f(new l(this.dimension.xAxis,this.h-this.dimension.xAxis/2),new h(t,this.color.left)),e=new _(r),a=this.bitmapData.context,a.drawImage(e.canvas,e.x,e.y+this.h-this.dimension.xAxis/2),o=new u(this.w,this.h),s=this.h-3*this.dimension.yAxis/2+2;s<this.h;s+=1)o.setPixel(this.dimension.xAxis-1,s,i);for(c=1;c<this.dimension.yAxis;c+=1)o.setPixel(this.dimension.xAxis+c-2,this.h-Math.floor(c/2)-1,i),o.setPixel(this.dimension.xAxis+c-2,this.dimension.xAxis/2-2+c,i);for(o.floodFill(this.dimension.xAxis+1,this.h-3,this.color.right),m=this.dimension.xAxis/2;m<this.h-1;m+=1)o.setPixel(this.dimension.xAxis-1,m,this.color.right),o.setPixel(this.dimension.xAxis-2,m,n);o.context.putImageData(o.imageData,0,0),a.drawImage(o.canvas,0,0)},e.toString=function(){return"[SlopeNorth]"},t.exports=r},function(t,i,n){"use strict";var r,e,a=n(13),o=n(12),s=n(2),u=n(1),c=n(3);r=function(t,i,n,r){this.initialize(t,i,n,r)},e=r.prototype=new c,e.initialize=function(t,i,n,r){return this.initRender(t,i,n,r),this.initRectangle(),this.initBitmapData(),this.build(),this.renderBitmapDataForCanvas(),this},e.initRender=function(t,i,n,r){this.useDefaultCanvas=r||!1,this.border=n||void 0===n,this.dimension=void 0===t?new a:t,this.color=void 0===i?new o:i},e.initRectangle=function(){this.w=this.dimension.xAxis+this.dimension.yAxis,this.h=this.dimension.xAxis/2+2*this.dimension.yAxis,this.w-=2,this.h-=3,this.matrix=new s,this.matrix.tx=-(this.dimension.yAxis-2),this.matrix.ty=-(3*this.dimension.yAxis/2-2)},e.initBitmapData=function(){this.bitmapData=new u(this.w,this.h,this.useDefaultCanvas)},e.renderBitmapDataForCanvas=function(){this.bitmapData.context.putImageData(this.bitmapData.imageData,0,0),this.canvas=this.bitmapData.canvas},e.build=function(){var t,i,n,r,e,a,o;for(t=this.border?this.color.border:this.color.leftSlope,i=this.border?this.color.border:this.color.right,r=0;r<this.dimension.xAxis;r+=1)this.bitmapData.setPixel(r,2*this.dimension.yAxis+Math.floor(r/2)-3,t),this.bitmapData.setPixel(r+this.dimension.yAxis-2,Math.floor(r/2),t);for(n=0;n<this.dimension.yAxis;n+=1)this.bitmapData.setPixel(this.dimension.xAxis-2+n,this.h-Math.floor(n/2)-1,i);for(e=this.dimension.xAxis/2-1;e<this.h-this.dimension.yAxis/2;e+=1)this.bitmapData.setPixel(this.w-1,e,i);for(a=0;a<2*this.dimension.yAxis-2;a+=1)this.bitmapData.setPixel(Math.floor(a/2),2*this.dimension.yAxis-a-3,t),this.bitmapData.setPixel(this.dimension.xAxis-2+Math.floor(a/2),this.h-a-1,t);if(this.bitmapData.floodFill(this.dimension.yAxis-1,1,this.color.leftSlope),this.bitmapData.floodFill(this.dimension.xAxis,this.h-3,this.color.right),this.bitmapData.setPixel(this.dimension.xAxis-1,this.h-2,this.color.right),this.border)for(o=1;o<2*this.dimension.yAxis-3;o+=1)this.bitmapData.setPixel(this.dimension.xAxis-2+Math.floor(o/2),this.h-o-1,this.color.borderHighlight)},e.toString=function(){return"[SlopeSouth]"},t.exports=r},function(t,i,n){"use strict";var r,e,a=n(13),o=n(12),s=n(2),u=n(1),c=n(3),f=n(28),l=n(21),h=n(6),_=n(14);r=function(t,i,n,r){this.initialize(t,i,n,r)},e=r.prototype=new c,e.initialize=function(t,i,n,r){return this.initRender(t,i,n,r),this.initRectangle(),this.initBitmapData(),this.build(),this.renderBitmapDataForCanvas(),this},e.initRender=function(t,i,n,r){this.useDefaultCanvas=r||!1,this.border=n||void 0===n,this.dimension=void 0===t?new a:t,this.color=void 0===i?new o:i},e.initRectangle=function(){this.w=this.dimension.xAxis+this.dimension.yAxis,this.h=3*this.dimension.xAxis/2+this.dimension.yAxis/2,this.w-=2,this.h-=3,this.matrix=new s,this.matrix.tx=-(this.dimension.yAxis-2),this.matrix.ty=-(this.dimension.xAxis-2)},e.initBitmapData=function(){this.bitmapData=new u(this.w,this.h,this.useDefaultCanvas)},e.renderBitmapDataForCanvas=function(){this.canvas=this.bitmapData.canvas},e.build=function(){var t,i,n,r,e,a,o,s,c,m;for(t=this.border?this.color.border:this.color.left,i=this.border?this.color.border:this.color.right,n=this.border?this.color.borderHighlight:this.color.left,r=new f(new l(this.dimension.yAxis,this.h-this.dimension.yAxis/2),new h(i,this.color.right)),e=new _(r),a=this.bitmapData.context,a.drawImage(e.canvas,e.x+this.w-2,e.y+this.h-this.dimension.yAxis/2),o=new u(this.w,this.h),s=this.h-3*this.dimension.xAxis/2+2;s<this.h;s+=1)o.setPixel(this.dimension.xAxis-2,s,t);for(c=0;c<this.dimension.xAxis-1;c+=1)o.setPixel(c,this.dimension.xAxis+this.dimension.yAxis/2-3+Math.floor(c/2),t),o.setPixel(c,this.dimension.xAxis+this.dimension.yAxis/2-3-c,t);for(o.floodFill(this.dimension.xAxis-3,this.h-3,this.color.left),m=this.dimension.yAxis/2;m<this.h-1;m+=1)o.setPixel(this.dimension.xAxis-2,m,n);o.context.putImageData(o.imageData,0,0),a.drawImage(o.canvas,0,0)},e.toString=function(){return"[SlopeWest]"},t.exports=r},function(t,i,n){"use strict";var r,e;r=function(){throw new Error("CanvasTool is a static Class, cannot be instanced.")},e=r,e.getPixel=function(t,i,n){var r,e,a,o,s;return r=t.data,e=4*(n*t.width+i),a=r[e],o=r[e+1],s=r[e+2],a<<16|o<<8|s},e.toString=function(){return"[CanvasTool]"},t.exports=r},function(t,i,n){"use strict";var r,e;r=function(){throw new Error("ColorPattern is a static Class, cannot be instanced.")},e=r,e.GRASS_GREEN=13434624,e.YELLOW=16776960,e.WINE_RED=16711833,e.PINK=16743615,e.PURPLE=13369599,e.BLUE=52479,e.GRAY=15658734,e.BLACK=6710886,e.FINE_COLORS=[e.GRASS_GREEN,e.YELLOW,e.WINE_RED,e.PINK,e.PURPLE,e.BLUE,e.GRAY,e.BLACK],e.getRandomComfortableColor=function(){return e.FINE_COLORS[Math.floor(Math.random()*e.FINE_COLORS.length)]},e.toString=function(){return"[ColorPattern]"},t.exports=r}]);